<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>è‹±è¯­è§†é¢‘å­¦ä¹ </title>

<script src="crypto-js.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

<style>
    /* --- 0. å…¨å±€è®¾ç½® --- */
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: #000; color: #ccc; margin: 0; display: flex; height: 100vh; overflow: hidden; }
    @media (max-width: 768px) { body { flex-direction: column; } }
    ::-webkit-scrollbar { width: 0; background: transparent; }
    button { cursor: pointer; outline: none; user-select: none; }
    input, textarea, select { outline: none; font-family: inherit; background: #222; border: 1px solid #444; color: #eee; padding: 8px; border-radius: 6px; }

    /* --- 1. é”å±é—¨ç¦ --- */
    #lockScreen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #111; z-index: 10000; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 30px; text-align: center; }
    .lock-card { width: 100%; max-width: 320px; background: #1e1e1e; padding: 25px; border-radius: 12px; }
    .lock-uid { font-family: monospace; font-size: 24px; color: #4CAF50; margin: 15px 0; background: #000; padding: 10px; border-radius: 6px; user-select: all; border: 1px dashed #333; }
    .lock-btn { width: 100%; padding: 12px; background: #2196F3; color: white; border: none; border-radius: 6px; font-size: 16px; margin-top: 15px; font-weight: bold; }
    .lock-msg { color: #f44336; margin-top: 15px; font-size: 14px; min-height: 20px; }

    /* --- 2. ç•Œé¢ç»„ä»¶ --- */
    .sidebar-full { width: 260px; background: #111; border-right: 1px solid #333; display: flex; flex-direction: column; z-index: 5; flex-shrink: 0; }
    @media (max-width: 768px) { .sidebar-full { display: none; } }
    .sb-header { padding: 15px; border-bottom: 1px solid #333; font-weight: bold; color: #fff; background: #1a1a1a; display: flex; justify-content: space-between; align-items: center; }
    .sb-list { list-style: none; padding: 0; margin: 0; flex: 1; overflow-y: auto; }
    .sb-item { padding: 12px; border-bottom: 1px solid #222; cursor: pointer; font-size: 13px; color: #888; display:flex; gap:10px; transition:0.2s; align-items: flex-start; }
    .sb-item:hover { background: #222; } .sb-item.active { background: #1a1a1a; border-left: 3px solid #4CAF50; color: #eee; }
    .sb-btns { display: flex; flex-direction: column; gap: 8px; margin-top: 2px; flex-shrink: 0; }
    .icon-btn { background: transparent; border: none; color: #555; font-size: 16px; padding: 0; transition:0.2s; }
    .icon-btn:hover { color: #fff; transform: scale(1.1); }
    .icon-btn.star:hover { color: #FFC107; }

    .main-stage { flex: 1; display: flex; flex-direction: column; position: relative; overflow: hidden; padding-bottom: 55px; }
    .toolbar-top { display: flex; gap: 10px; padding: 10px; background: #1a1a1a; align-items: center; flex-shrink: 0; border-bottom: 1px solid #333; overflow-x: auto; }
    .btn { padding: 6px 14px; background: #333; color: #ccc; border: 1px solid #444; border-radius: 6px; font-size: 13px; white-space: nowrap; font-weight: 500; }
    .btn:active { transform: scale(0.96); background: #555; color: white; }
    .btn-blue { background: #1565C0; border: none; color: white; }

    .video-wrapper { width: 100%; aspect-ratio: 16 / 9; background: #000; position: relative; display: flex; justify-content: center; align-items: center; flex-shrink: 0; }
    video { width: 100%; height: 100%; object-fit: contain; }
    #placeholder { position: absolute; color: #444; font-size: 14px; pointer-events: none; }

    .ab-controls { display: flex; align-items: center; justify-content: center; gap: 12px; padding: 10px; background: #111; border-bottom: 1px solid #333; flex-shrink: 0; }
    .btn-circle { width: 36px; height: 36px; border-radius: 50%; border: 1px solid #444; background: #222; color: #888; display: flex; align-items: center; justify-content: center; font-size: 12px; transition:0.2s; }
    .btn-circle:active { background: #4CAF50; color: white; border-color: #4CAF50; }
    .input-time { width: 55px; background: #000; border: 1px solid #333; color: #4CAF50; text-align: center; font-size: 12px; padding: 4px; }
    .active-loop { background: #E91E63 !important; border-color: #E91E63 !important; color: white !important; }

    /* å­—å¹•åŒº */
    .content-area { flex: 1; position: relative; overflow: hidden; display: flex; flex-direction: column; }
    .page-subs { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
    .teleprompter { flex: 1; background: #000; overflow-y: auto; position: relative; -webkit-overflow-scrolling: touch; padding: 60px 0; }
    .tp-row { padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #111; transition: background 0.1s; }
    .tp-row.active { background: #1a1a1a; border-left: 3px solid #4CAF50; }
    .tp-text-col { flex: 1; display: flex; flex-direction: column; gap: 6px; margin-right: 15px; }
    .tp-foreign { font-size: 16px; font-weight: 600; color: #fff; line-height: 1.4; text-align: left; }
    .tp-native { font-size: 13px; color: #888; line-height: 1.3; text-align: left; }
    .word-click { border-bottom: 1px solid transparent; cursor: pointer; }
    .word-click:active { background: #4CAF50; color: white; border-radius: 3px; }
    .tp-play-btn { background: transparent; color: #444; border: 1px solid #333; width: 32px; height: 32px; border-radius: 50%; flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-size: 10px; cursor: pointer; transition:0.2s;}
    .tp-play-btn:active { background: #4CAF50; color: white; border-color: #4CAF50; }
    .layout-swap .tp-text-col { flex-direction: column-reverse; }
    .hide-f .tp-foreign { display: none; }
    .hide-n .tp-native { display: none; }

    /* åº•éƒ¨é¢æ¿ */
    .page-notes { flex: 1; display: none; flex-direction: column; background: #151515; overflow: hidden; }
    .bottom-nav { position: fixed; bottom: 0; left: 0; width: 100%; height: 55px; 
    background: #1a1a1a; border-top: 1px solid #333; 
    display: none; justify-content: space-around; align-items: center; 
    z-index: 5000; }
    @media (max-width: 768px) { .bottom-nav { display: flex; } }
    .nav-item { flex: 1; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #666; font-size: 10px; cursor: pointer; transition:0.2s; }
    .nav-item i { font-size: 20px; margin-bottom: 3px; font-style: normal; }
    .nav-item.active { color: #4CAF50; background: #222; }

    .float-panel-pc { position: absolute; bottom: 20px; right: 20px; width: 360px; height: 450px; background: #1e1e1e; border: 1px solid #444; border-radius: 12px; display: flex; flex-direction: column; z-index: 100; box-shadow: 0 10px 40px rgba(0,0,0,0.5); }
    @media (max-width: 768px) { .float-panel-pc { display: none; } }

    .fp-tabs { display: flex; border-bottom: 1px solid #333; background: #252525; flex-shrink: 0; }
    .fp-tab { flex: 1; padding: 12px; text-align: center; font-size: 13px; color: #888; border-right: 1px solid #333; cursor: pointer; transition:0.2s;}
    .fp-tab.active { color: #fff; font-weight: bold; background: #1e1e1e; border-top: 2px solid #4CAF50; }
    .list-container { flex: 1; overflow-y: auto; padding: 0; }
    .fav-item { padding: 12px; border-bottom: 1px solid #333; position: relative; color: #ccc; font-size: 13px; background: #1e1e1e; }
    .fav-item:last-child { border-bottom: none; }
    .fav-head { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 6px; }
    .fav-word { color: #4CAF50; font-weight: bold; font-size: 15px; }
    .fav-input { width: 100%; background: #151515; border: 1px solid #333; color: #aaa; font-size: 12px; padding: 6px; margin-top: 5px; }
    
    .note-toolbar { padding: 10px; border-bottom: 1px solid #333; display: flex; gap: 10px; background: #222; }
    .note-card { background: #252525; border: 1px solid #333; border-radius: 6px; padding: 12px; margin: 10px; cursor: pointer; }
    .note-card h4 { margin: 0 0 5px 0; color: #eee; font-size: 14px; }
    .note-card p { margin: 0; color: #888; font-size: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .note-editor { display: none; flex-direction: column; height: 100%; background: #151515; }
    .note-title-input { background: #111; border: none; border-bottom: 1px solid #333; padding: 15px; font-size: 16px; color: #fff; font-weight: bold; }
    .note-body-input { flex: 1; background: #111; border: none; padding: 15px; font-size: 14px; color: #ddd; line-height: 1.6; resize: none; }

    /* å¼¹çª—ä¸èœå• */
    #popCard { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 280px; max-height: 60vh; background: rgba(30,30,30, 0.98); border: 1px solid #555; border-radius: 12px; padding: 15px; z-index: 2000; box-shadow: 0 20px 60px rgba(0,0,0,0.9); overflow-y: auto; }
    .pop-head { display: flex; justify-content: space-between; padding-bottom: 10px; border-bottom: 1px solid #444; margin-bottom: 10px; }
    .pop-word { color: #4CAF50; font-size: 20px; font-weight: bold; }
    .pop-def { font-size: 14px; line-height: 1.6; color: #ccc; }

    .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 5000; align-items: center; justify-content: center; }
    .modal-box { background: #252525; padding: 25px; border-radius: 12px; width: 90%; max-width: 320px; text-align: center; }
    .export-btn { display: block; width: 100%; padding: 12px; background: #333; color: #eee; border: 1px solid #444; margin-bottom: 10px; border-radius: 6px; text-align: left; transition:0.2s}
    .export-btn:hover { background: #444; }
    
    @media print {
        body > * { display: none !important; }
        #printArea { display: block !important; background: white; color: black; padding: 20px; font-family: "Times New Roman", serif; }
        .print-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        .print-table th, .print-table td { border: 1px solid #000; padding: 8px; text-align: left; vertical-align: top; }
        .print-table th { background-color: #f0f0f0; font-weight: bold; }
        .col-word { width: 25%; font-weight: bold; }
        .col-def { width: 45%; }
        .col-blank { width: 30%; }
        h1 { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; }
        h2 { margin-top: 30px; border-bottom: 1px solid #666; }
    }
    #printArea { display: none; }
</style>
</head>
<body>

<div id="lockScreen">
    <div class="lock-card">
        <h2 style="margin:0; color:white">ğŸ”’ èº«ä»½éªŒè¯</h2>
        <div style="text-align:left; color:#aaa; font-size:12px; margin-bottom:5px; margin-top:20px">æ‚¨çš„æœºå™¨ç :</div>
        <div id="deviceUID" class="lock-uid" onclick="copyUID()">...</div>
        <input type="text" id="lockInput" style="width:100%; padding:12px; font-size:16px; background:#000; border:1px solid #444; text-align:center; color:#fff; margin-top:15px" placeholder="è¾“å…¥æ¿€æ´»ç ">
        <button class="lock-btn" onclick="unlockApp()">è§£é”è¿›å…¥</button>
        <div id="lockMsg" class="lock-msg"></div>
    </div>
</div>

<div id="popCard">
    <div class="pop-head"><span class="pop-word" id="popWord">Word</span><div><button class="btn" onclick="saveFromPopup()">â­</button><button class="btn" onclick="document.getElementById('popCard').style.display='none'">Ã—</button></div></div>
    <div id="popDef">Loading...</div>
</div>

<div id="modalExport" class="modal-overlay">
    <div class="modal-box">
        <h3 style="margin-top:0; color:#fff">ğŸ“¤ å¯¼å‡º & è®¾ç½®</h3>
        <button class="export-btn" onclick="doExport('pdf')">ğŸ“„ PDF (æ‰“å°ç‰ˆ)</button>
        <button class="export-btn" onclick="doExport('excel')">ğŸ“Š Excel (CSV)</button>
        <button class="export-btn" onclick="doExport('txt')">ğŸ“ TXT (çº¯æ–‡æœ¬)</button>
        <button class="export-btn" onclick="doExport('backup')">ğŸ“¦ å¤‡ä»½æ–‡ä»¶</button>
        
        <input type="file" id="importFile" accept=".backup,.json" style="display:none" onchange="importBackupFile(this)">
        <button class="btn btn-blue" style="width:100%; margin-top:5px" onclick="document.getElementById('importFile').click()">ğŸ“¥ æ¢å¤å¤‡ä»½</button>
        
        <hr style="border:0; border-top:1px dashed #444; margin:15px 0">
        <div style="text-align:left; font-size:12px; color:#aaa; margin-bottom:5px"> çŠ¶æ€:</div>
        <div id="apiStatusDisplay" style="text-align:left; margin-bottom:15px; color:#4CAF50">âšª  (ä»…ä½¿ç”¨æœ¬åœ°è¯å…¸)</div>
        <button class="btn" style="width:100%" onclick="document.getElementById('modalExport').style.display='none'">å…³é—­</button>
    </div>
</div>
<div id="printArea"></div>

<div class="sidebar-full">
    <div class="sb-header"><span>ğŸ“œ åˆ—è¡¨</span></div>
    <ul id="fullList" class="sb-list"></ul>
</div>

<div class="main-stage">
    <div class="toolbar-top">
        <button class="btn" onclick="document.getElementById('fVid').click()">ğŸ“‚ è§†é¢‘</button>
        <button class="btn" onclick="document.getElementById('fSub').click()">ğŸ“ å­—å¹•</button>
        <div style="flex:1"></div>
        <button class="btn" onclick="toggleSwap()">â‡… äº¤æ¢</button>
        <button class="btn" onclick="toggleVis('f')">ğŸ‘ï¸ä¸Š</button>
        <button class="btn" onclick="toggleVis('n')">ğŸ‘ï¸ä¸‹</button>
        <button class="btn" onclick="document.getElementById('modalExport').style.display='flex'">âš™ï¸</button>
        <input type="file" id="fVid" style="display:none" accept="*/*">
        <input type="file" id="fSub" style="display:none" accept="*/*">
    </div>
    <div class="video-wrapper"><video id="vid" controls playsinline></video><audio id="aud" controls style="display:none"></audio><div id="placeholder">è¯·å¯¼å…¥æ–‡ä»¶</div></div>
    <div class="ab-controls">
        <button class="btn-circle" onclick="setA()">A</button><input id="inA" class="input-time" placeholder="0.0"><span style="color:#444">-</span><input id="inB" class="input-time" placeholder="0.0"><button class="btn-circle" onclick="setB()">B</button><button class="btn" id="btnLoop" onclick="toggleLoop()" style="margin-left:10px;">ğŸ”</button><button class="btn-circle" onclick="clearLoop()" style="color:#f44336; border:none">Ã—</button>
    </div>
    <div class="content-area">
        <div id="pageSubs" class="page-subs"><div id="teleprompter" class="teleprompter"><div style="text-align:center; color:#444; padding-top:20px; font-size:12px">å­—å¹•åŒº</div></div></div>
        <div id="pageNotes" class="page-notes"><div class="fp-tabs"><div class="fp-tab active" onclick="renderTab('words', this)">å•è¯æœ¬</div><div class="fp-tab" onclick="renderTab('sents', this)">å¥åº“</div><div class="fp-tab" onclick="renderTab('notes', this)">ç¬”è®°</div><div class="fp-tab" onclick="document.getElementById('modalExport').style.display='flex'">ğŸ’¾</div></div><div id="noteContent" class="list-container"></div></div>
    </div>
</div>

<div class="bottom-nav">
    <div class="nav-item active" onclick="navSwitch('subs', this)"><i>ğŸ“</i>å­—å¹•</div>
    <div class="nav-item" onclick="navSwitch('notes', this)"><i>ğŸ“’</i>å­¦ä¹ è®°å½•</div>
</div>

<div class="float-panel-pc">
    <div class="fp-tabs"><div class="fp-tab active" onclick="renderPcTab('words', this)">å•è¯</div><div class="fp-tab" onclick="renderPcTab('sents', this)">å¥åº“</div><div class="fp-tab" onclick="renderPcTab('notes', this)">ç¬”è®°</div><div class="fp-tab" onclick="document.getElementById('modalExport').style.display='flex'">ğŸ’¾</div></div><div id="pcNoteContent" class="list-container"></div>
</div>

<script>
   // ==========================================

    // ==========================================
    const SECURE_DATA = {
       
        PASSPHRASE: "S", 

      
        ENCRYPTED_ID: "U2FsdGVkX1/mJtsgO2XnpSvOynudnE3UG3xu/u3elMgCUFUHk1RGnLwKZ97xlrST",

    
        ENCRYPTED_KEY: "U2FsdGVkX1/ZukuZcKFxpiG7cYxwHs88d4oxwkfeDQdtmnKyhFhV7VDM8aFhTspR",

        SALT: "MY_SECRET_SALT_2025"
    };


    let APP_CONFIG = { 
        SALT: SECURE_DATA.SALT, 
        baidu: { appid: '', key: '' } 
    };

    try {
        const p = SECURE_DATA.PASSPHRASE;
        if (p && SECURE_DATA.ENCRYPTED_ID) {
            // å¼€å§‹è§£å¯†...
            const realId = CryptoJS.AES.decrypt(SECURE_DATA.ENCRYPTED_ID, p).toString(CryptoJS.enc.Utf8);
            const realKey = CryptoJS.AES.decrypt(SECURE_DATA.ENCRYPTED_KEY, p).toString(CryptoJS.enc.Utf8);
            
            // å¦‚æœè§£å¯†æˆåŠŸï¼Œå¡«å…¥é…ç½®
            if (realId && realKey) {
                APP_CONFIG.baidu.appid = realId;
                APP_CONFIG.baidu.key = realKey;
                console.log("API Key è§£å¯†æˆåŠŸ âœ…");
            }
        }
    } catch (e) {
        console.error("API Key è§£å¯†å¤±è´¥ï¼Œè¯·æ£€æŸ¥æš—å·æ˜¯å¦æ­£ç¡® âŒ");
    }
    // ==========================================

    // --- 0. é—¨ç¦ç³»ç»Ÿ ---
const _0x2f6c0c=_0x5c6b;(function(_0x4648ad,_0x5dc67d){const _0x2b2ff8=_0x5c6b,_0x5c8c30=_0x4648ad();while(!![]){try{const _0x309628=parseInt(_0x2b2ff8(0x150))/0x1+parseInt(_0x2b2ff8(0x168))/0x2*(-parseInt(_0x2b2ff8(0xf9))/0x3)+-parseInt(_0x2b2ff8(0x106))/0x4*(-parseInt(_0x2b2ff8(0x127))/0x5)+-parseInt(_0x2b2ff8(0x164))/0x6+-parseInt(_0x2b2ff8(0x198))/0x7+-parseInt(_0x2b2ff8(0x173))/0x8+-parseInt(_0x2b2ff8(0x102))/0x9*(-parseInt(_0x2b2ff8(0x121))/0xa);if(_0x309628===_0x5dc67d)break;else _0x5c8c30['push'](_0x5c8c30['shift']());}catch(_0x53504e){_0x5c8c30['push'](_0x5c8c30['shift']());}}}(_0x330a,0x5e9d5));let myUID='';function initSecurity(){const _0x3062b7=_0x5c6b;let _0x3e4297=localStorage['getItem']('APP_UID');!_0x3e4297&&(_0x3e4297=Math[_0x3062b7(0x1ab)]()[_0x3062b7(0x178)](0x24)[_0x3062b7(0x1af)](0x2,0x8)['toUpperCase'](),localStorage[_0x3062b7(0x13b)](_0x3062b7(0x179),_0x3e4297)),myUID=_0x3e4297,document[_0x3062b7(0x13d)](_0x3062b7(0x19c))[_0x3062b7(0xf2)]=myUID,localStorage['getItem'](_0x3062b7(0x17a))===_0x3062b7(0x166)&&(document[_0x3062b7(0x13d)](_0x3062b7(0x11b))[_0x3062b7(0x183)]['display']='none'),APP_CONFIG[_0x3062b7(0x11d)][_0x3062b7(0x165)]&&(document[_0x3062b7(0x13d)]('apiStatusDisplay')['innerText']=_0x3062b7(0x100),document[_0x3062b7(0x13d)](_0x3062b7(0x12f))[_0x3062b7(0x183)][_0x3062b7(0xfe)]=_0x3062b7(0x167));}function unlockApp(){const _0x4a96d2=_0x5c6b,_0x3f37db=document[_0x4a96d2(0x13d)]('lockInput')[_0x4a96d2(0x140)]['trim'](),_0x2cc6df=CryptoJS['MD5'](myUID+APP_CONFIG['SALT'])['toString']()[_0x4a96d2(0x1af)](0x0,0x8);_0x3f37db[_0x4a96d2(0x10a)]()===_0x2cc6df[_0x4a96d2(0x10a)]()?(localStorage[_0x4a96d2(0x13b)](_0x4a96d2(0x17a),_0x4a96d2(0x166)),document['getElementById'](_0x4a96d2(0x11b))['style'][_0x4a96d2(0x133)]=_0x4a96d2(0x1a2)):document[_0x4a96d2(0x13d)](_0x4a96d2(0x109))[_0x4a96d2(0xf2)]=_0x4a96d2(0x130);}function copyUID(){const _0x536bf=_0x5c6b;navigator['clipboard'][_0x536bf(0x1a5)](myUID)['then'](()=>alert(_0x536bf(0x120)));}initSecurity();const vid=document[_0x2f6c0c(0x13d)]('vid'),aud=document[_0x2f6c0c(0x13d)](_0x2f6c0c(0x138));let player=null,subtitles=[],loopStart=null,loopEnd=null,isLooping=![],activeIndex=-0x1,currentFileKey=_0x2f6c0c(0x16e),favData={'words':[],'sents':[],'notes':[]},currentNoteTab=_0x2f6c0c(0x176),isUserTouching=![],scrollTimeout=null;document[_0x2f6c0c(0x181)](_0x2f6c0c(0x16b),_0x1dda93=>{const _0x2f9574=_0x2f6c0c;if([_0x2f9574(0x10d),_0x2f9574(0x1ae)]['includes'](_0x1dda93[_0x2f9574(0x14b)][_0x2f9574(0x12a)]))return;if(_0x1dda93[_0x2f9574(0x1a3)]===_0x2f9574(0xff)){_0x1dda93[_0x2f9574(0x10b)]();if(player)player['paused']?player[_0x2f9574(0xf1)]():player[_0x2f9574(0x10f)]();}});const tp=document[_0x2f6c0c(0x13d)](_0x2f6c0c(0x15f));tp['addEventListener'](_0x2f6c0c(0x107),()=>{isUserTouching=!![],clearTimeout(scrollTimeout);}),tp['addEventListener']('touchend',()=>{scrollTimeout=setTimeout(()=>{isUserTouching=![];},0xbb8);}),document[_0x2f6c0c(0x13d)](_0x2f6c0c(0xfa))[_0x2f6c0c(0x181)]('change',_0xdcdb2b=>{const _0x5643c5=_0x2f6c0c,_0x147d16=_0xdcdb2b['target']['files'][0x0];if(!_0x147d16)return;currentFileKey=_0x5643c5(0x103)+_0x147d16['name'],loadData();const _0x1ed4a2=URL[_0x5643c5(0x192)](_0x147d16);document[_0x5643c5(0x13d)]('placeholder')[_0x5643c5(0x183)][_0x5643c5(0x133)]=_0x5643c5(0x1a2),vid[_0x5643c5(0x183)]['display']='none',aud[_0x5643c5(0x183)][_0x5643c5(0x133)]='none';_0x147d16[_0x5643c5(0x1ad)][_0x5643c5(0x18a)](/\.(mp3|wav|m4a)$/i)?(player=aud,player[_0x5643c5(0x183)][_0x5643c5(0x133)]='block'):(player=vid,player[_0x5643c5(0x183)][_0x5643c5(0x133)]=_0x5643c5(0x19b));player[_0x5643c5(0x122)]=_0x1ed4a2,player[_0x5643c5(0x12e)]=onTick;if(window['innerWidth']<=0x300)navSwitch(_0x5643c5(0x142),document[_0x5643c5(0xf5)](_0x5643c5(0x1b2))[0x0]);}),document['getElementById']('fSub')[_0x2f6c0c(0x181)](_0x2f6c0c(0x136),_0x5e9618=>{const _0x415130=_0x2f6c0c,_0x402956=_0x5e9618[_0x415130(0x14b)]['files'][0x0];if(!_0x402956)return;const _0x4ce590=new FileReader();_0x4ce590[_0x415130(0x13e)]=_0x562d81=>{const _0x2b4aa5=_0x415130,_0x10da09=_0x562d81[_0x2b4aa5(0x14b)][_0x2b4aa5(0x1a0)];if(_0x402956[_0x2b4aa5(0x1ad)][_0x2b4aa5(0x199)](_0x2b4aa5(0x105)))parseASS(_0x10da09);else parseSRT(_0x10da09);alert(_0x2b4aa5(0x16c)+subtitles[_0x2b4aa5(0x12b)]+_0x2b4aa5(0x134)),renderViews();},_0x4ce590[_0x415130(0x19e)](_0x402956,'UTF-8');});let curWord='';async function clickWord(_0x5c6676){const _0x2dc2a2=_0x2f6c0c;_0x5c6676=_0x5c6676[_0x2dc2a2(0x14a)](/[^\w-]/g,'');if(!_0x5c6676)return;curWord=_0x5c6676;const _0x2b30e2=document[_0x2dc2a2(0x13d)]('popCard');_0x2b30e2[_0x2dc2a2(0x183)][_0x2dc2a2(0x133)]='block',document[_0x2dc2a2(0x13d)](_0x2dc2a2(0x16a))[_0x2dc2a2(0xf2)]=_0x5c6676;const _0x1af087=document[_0x2dc2a2(0x13d)]('popDef');_0x1af087[_0x2dc2a2(0x14e)]=_0x2dc2a2(0x1b0);const _0x1f433e=favData[_0x2dc2a2(0x176)][_0x2dc2a2(0x15e)](_0x1779c9=>_0x1779c9['t'][_0x2dc2a2(0x10a)]()===_0x5c6676['toLowerCase']());if(_0x1f433e&&_0x1f433e['d']){_0x1af087[_0x2dc2a2(0x14e)]=_0x2dc2a2(0x1a7)+_0x1f433e['d'];return;}if(APP_CONFIG['baidu'][_0x2dc2a2(0x165)]&&APP_CONFIG[_0x2dc2a2(0x11d)]['key'])try{const _0x2e69d6=new Date()[_0x2dc2a2(0x170)](),_0x3f3658=APP_CONFIG['baidu'][_0x2dc2a2(0x165)]+_0x5c6676+_0x2e69d6+APP_CONFIG[_0x2dc2a2(0x11d)]['key'],_0x22f498=CryptoJS[_0x2dc2a2(0x18f)](_0x3f3658)[_0x2dc2a2(0x178)](),_0x1c4514=_0x2dc2a2(0x116)+encodeURIComponent(_0x5c6676)+'&from=en&to=zh&appid='+APP_CONFIG['baidu'][_0x2dc2a2(0x165)]+_0x2dc2a2(0x195)+_0x2e69d6+_0x2dc2a2(0x193)+_0x22f498,_0x56ee13=await fetch(_0x1c4514)[_0x2dc2a2(0x144)](_0x1de743=>_0x1de743['json']());if(_0x56ee13[_0x2dc2a2(0x153)]){let _0x3df81f='';_0x56ee13[_0x2dc2a2(0x153)][_0x2dc2a2(0x17f)](_0x54cca7=>_0x3df81f+=_0x2dc2a2(0x155)+_0x54cca7[_0x2dc2a2(0x194)]+_0x2dc2a2(0xfc)),_0x1af087[_0x2dc2a2(0x14e)]=_0x3df81f;}else _0x1af087[_0x2dc2a2(0xf2)]=_0x2dc2a2(0x185);}catch(_0xd4c8c4){_0x1af087['innerText']='APIé”™è¯¯\x20(è¯·æ£€æŸ¥ç½‘ç»œ)';}else fetch(_0x2dc2a2(0x147)+_0x5c6676)[_0x2dc2a2(0x144)](_0x5a1038=>_0x5a1038[_0x2dc2a2(0x146)]())[_0x2dc2a2(0x144)](_0x16bc2b=>{const _0x426df9=_0x2dc2a2;if(_0x16bc2b[0x0])_0x1af087[_0x426df9(0x14e)]=_0x426df9(0xf8)+_0x16bc2b[0x0][_0x426df9(0x17b)][0x0][_0x426df9(0x158)]+_0x426df9(0x143)+_0x16bc2b[0x0][_0x426df9(0x17b)][0x0][_0x426df9(0x188)][0x0][_0x426df9(0x189)];else _0x1af087[_0x426df9(0xf2)]=_0x426df9(0x1b1);})['catch'](()=>_0x1af087[_0x2dc2a2(0xf2)]=_0x2dc2a2(0x15c));}function doExport(_0x235c56){const _0x5ddf98=_0x2f6c0c;document[_0x5ddf98(0x13d)]('modalExport')[_0x5ddf98(0x183)][_0x5ddf98(0x133)]=_0x5ddf98(0x1a2);if(_0x235c56===_0x5ddf98(0x19f)){const _0x3e51a5=document[_0x5ddf98(0x13d)](_0x5ddf98(0x16d));let _0x2804ae=_0x5ddf98(0x10e);favData[_0x5ddf98(0x176)][_0x5ddf98(0x17f)](_0x235958=>_0x2804ae+='<tr><td>'+_0x235958['t']+'</td><td>'+_0x235958['d']+_0x5ddf98(0x177)),_0x2804ae+=_0x5ddf98(0x160),favData[_0x5ddf98(0x145)]['forEach'](_0x20a4b3=>_0x2804ae+='<tr><td>'+_0x20a4b3['t']+_0x5ddf98(0xf6)+(_0x20a4b3[_0x5ddf98(0x15a)]||'')+'</td></tr>'),_0x2804ae+='</tbody></table>',_0x3e51a5[_0x5ddf98(0x14e)]=_0x2804ae,window[_0x5ddf98(0x111)]();}else{let _0x2eb668='',_0x5ad3b7='text/plain',_0x219d64=_0x5ddf98(0x182);if(_0x235c56==='excel')_0x2eb668=_0x5ddf98(0x15b),favData[_0x5ddf98(0x176)][_0x5ddf98(0x17f)](_0x2a89fa=>_0x2eb668+='å•è¯,'+_0x2a89fa['t']+',\x22'+(_0x2a89fa['d']||'')[_0x5ddf98(0x14a)](/"/g,'\x22\x22')+_0x5ddf98(0x124)),favData[_0x5ddf98(0x145)][_0x5ddf98(0x17f)](_0x26e69f=>_0x2eb668+=_0x5ddf98(0x11e)+(_0x26e69f['t']||'')['replace'](/"/g,'\x22\x22')+_0x5ddf98(0xf7)+(_0x26e69f['note']||'')[_0x5ddf98(0x14a)](/"/g,'\x22\x22')+_0x5ddf98(0x124)),_0x5ad3b7='text/csv',_0x219d64=_0x5ddf98(0x18c);else _0x235c56===_0x5ddf98(0x1a6)?(_0x2eb668=JSON[_0x5ddf98(0x1a1)](favData),_0x219d64=_0x5ddf98(0x1a6)):favData['words'][_0x5ddf98(0x17f)](_0x55167b=>_0x2eb668+=_0x55167b['t']+_0x5ddf98(0x197)+_0x55167b['d']+'\x0a');const _0x2d5c7b=document[_0x5ddf98(0x128)]('a');_0x2d5c7b[_0x5ddf98(0x163)]=URL[_0x5ddf98(0x192)](new Blob([_0x2eb668],{'type':_0x5ad3b7})),_0x2d5c7b[_0x5ddf98(0x175)]='my_data.'+_0x219d64,_0x2d5c7b[_0x5ddf98(0x101)]();}}function importBackupFile(_0x48405f){const _0x3748e9=_0x2f6c0c,_0x2ef7af=_0x48405f[_0x3748e9(0x118)][0x0];if(!_0x2ef7af)return;const _0x4da73a=new FileReader();_0x4da73a[_0x3748e9(0x13e)]=function(_0x4b51bf){const _0x5a8cbb=_0x3748e9;try{const _0x2415f0=JSON[_0x5a8cbb(0x11f)](_0x4b51bf[_0x5a8cbb(0x14b)][_0x5a8cbb(0x1a0)]);if(_0x2415f0['words'])_0x2415f0[_0x5a8cbb(0x176)][_0x5a8cbb(0x17f)](_0x3c1412=>favData[_0x5a8cbb(0x176)]['unshift'](_0x3c1412));if(_0x2415f0[_0x5a8cbb(0x145)])_0x2415f0[_0x5a8cbb(0x145)][_0x5a8cbb(0x17f)](_0x1ac4a0=>favData[_0x5a8cbb(0x145)][_0x5a8cbb(0x104)](_0x1ac4a0));if(_0x2415f0['notes'])_0x2415f0[_0x5a8cbb(0x131)]['forEach'](_0x4a8c74=>favData['notes']['unshift'](_0x4a8c74));saveData(),refreshAllTabs(),alert(_0x5a8cbb(0x18b)),document['getElementById'](_0x5a8cbb(0x157))[_0x5a8cbb(0x183)][_0x5a8cbb(0x133)]=_0x5a8cbb(0x1a2);}catch(_0x576a1f){alert('æ–‡ä»¶é”™è¯¯');}},_0x4da73a[_0x3748e9(0x19e)](_0x2ef7af);}function navSwitch(_0x15cb33,_0x269690){const _0x51b680=_0x2f6c0c;document[_0x51b680(0xf5)](_0x51b680(0x1b2))['forEach'](_0x563ff3=>_0x563ff3[_0x51b680(0x14f)][_0x51b680(0x19a)](_0x51b680(0x172))),_0x269690[_0x51b680(0x14f)][_0x51b680(0x115)](_0x51b680(0x172)),_0x15cb33===_0x51b680(0x142)?(document[_0x51b680(0x13d)]('pageSubs')[_0x51b680(0x183)]['display']='flex',document[_0x51b680(0x13d)](_0x51b680(0x114))[_0x51b680(0x183)][_0x51b680(0x133)]='none'):(document[_0x51b680(0x13d)](_0x51b680(0x129))[_0x51b680(0x183)][_0x51b680(0x133)]='none',document[_0x51b680(0x13d)](_0x51b680(0x114))[_0x51b680(0x183)][_0x51b680(0x133)]=_0x51b680(0xfd),renderTab(currentNoteTab));}function renderTab(_0x3e58e7,_0x234ee4){const _0x2be3b3=_0x2f6c0c;_0x234ee4&&(document[_0x2be3b3(0xf5)](_0x2be3b3(0x1ac))[_0x2be3b3(0x17f)](_0x230f9b=>_0x230f9b['classList']['remove'](_0x2be3b3(0x172))),_0x234ee4[_0x2be3b3(0x14f)][_0x2be3b3(0x115)]('active')),currentNoteTab=_0x3e58e7,renderContent(document['getElementById']('noteContent'),_0x3e58e7);}function renderPcTab(_0x789f54,_0x488364){const _0x266742=_0x2f6c0c;_0x488364&&(document[_0x266742(0xf5)](_0x266742(0x191))[_0x266742(0x17f)](_0x102c9f=>_0x102c9f['classList'][_0x266742(0x19a)]('active')),_0x488364[_0x266742(0x14f)]['add'](_0x266742(0x172))),renderContent(document[_0x266742(0x13d)]('pcNoteContent'),_0x789f54);}function refreshAllTabs(){const _0x5523ac=_0x2f6c0c;window[_0x5523ac(0xfb)]<=0x300?renderTab(currentNoteTab):renderPcTab(currentNoteTab);}function renderContent(_0xb53a56,_0x30ed0e){const _0x3eaeb3=_0x2f6c0c;_0xb53a56['innerHTML']='';if(_0x30ed0e===_0x3eaeb3(0x176)){favData[_0x3eaeb3(0x176)][_0x3eaeb3(0x17f)]((_0x34ad2e,_0x42f977)=>_0xb53a56[_0x3eaeb3(0x14e)]+=_0x3eaeb3(0x151)+_0x34ad2e['t']+_0x3eaeb3(0x14c)+_0x42f977+_0x3eaeb3(0x112)+_0x34ad2e['d']+_0x3eaeb3(0x162)+_0x42f977+_0x3eaeb3(0x135));if(!favData[_0x3eaeb3(0x176)][_0x3eaeb3(0x12b)])_0xb53a56[_0x3eaeb3(0x14e)]=_0x3eaeb3(0x139);}else{if(_0x30ed0e===_0x3eaeb3(0x145)){favData[_0x3eaeb3(0x145)]['forEach']((_0x2f63c1,_0x48fa08)=>_0xb53a56[_0x3eaeb3(0x14e)]+=_0x3eaeb3(0x169)+_0x2f63c1['t']+'</span><span\x20style=\x22color:#f44336;cursor:pointer\x22\x20onclick=\x22delFav(\x27s\x27,'+_0x48fa08+_0x3eaeb3(0x161)+(_0x2f63c1[_0x3eaeb3(0x15a)]||'')+_0x3eaeb3(0x11a)+_0x48fa08+_0x3eaeb3(0x135));if(!favData['sents'][_0x3eaeb3(0x12b)])_0xb53a56[_0x3eaeb3(0x14e)]=_0x3eaeb3(0x139);}else renderNotesUI(_0xb53a56);}}let editingNoteId=null;function renderNotesUI(_0xee3ebf){const _0x172208=_0x2f6c0c;if(!favData[_0x172208(0x131)])favData[_0x172208(0x131)]=[];if(editingNoteId!==null){const _0x54980c=favData[_0x172208(0x131)]['find'](_0x470b03=>_0x470b03['id']===editingNoteId)||{'title':'','content':''};_0xee3ebf[_0x172208(0x14e)]=_0x172208(0x18e)+editingNoteId+_0x172208(0x17e)+_0x54980c[_0x172208(0x187)]+_0x172208(0x113)+_0x54980c['content']+_0x172208(0x159);}else{let _0x40ad97=_0x172208(0x17d);if(favData['notes']['length']===0x0)_0x40ad97+=_0x172208(0x186);favData[_0x172208(0x131)][_0x172208(0x17f)](_0x7ff1b2=>{const _0x27c702=_0x172208;_0x40ad97+='<div\x20class=\x22note-card\x22\x20onclick=\x22openNote('+_0x7ff1b2['id']+_0x27c702(0x16f)+(_0x7ff1b2[_0x27c702(0x187)]||'æ— æ ‡é¢˜')+_0x27c702(0x19d)+_0x7ff1b2['content'][_0x27c702(0x13c)](0x0,0x1e)+_0x27c702(0x137);}),_0xee3ebf[_0x172208(0x14e)]=_0x40ad97;}}function createNote(){const _0x3f65a6=_0x2f6c0c,_0xc4f21d=Date[_0x3f65a6(0x141)]();favData['notes'][_0x3f65a6(0x104)]({'id':_0xc4f21d,'title':'','content':''}),saveData(),openNote(_0xc4f21d);}function openNote(_0x6c4bc3){editingNoteId=_0x6c4bc3,refreshAllTabs();}function closeNoteEditor(){editingNoteId=null,refreshAllTabs();}function deleteNote(_0x32597c){const _0xb0da6c=_0x2f6c0c;confirm('åˆ ?')&&(favData[_0xb0da6c(0x131)]=favData[_0xb0da6c(0x131)][_0xb0da6c(0x10c)](_0x489961=>_0x489961['id']!==_0x32597c),closeNoteEditor(),saveData());}function updNote(_0x1599b2,_0x447885){const _0x1ed344=_0x2f6c0c,_0x4a35df=favData['notes'][_0x1ed344(0x15e)](_0x233c6f=>_0x233c6f['id']===editingNoteId);_0x4a35df&&(_0x4a35df[_0x1599b2]=_0x447885,saveData());}function updWord(_0x213b42,_0x49faca){const _0x1f3042=_0x2f6c0c;favData[_0x1f3042(0x176)][_0x213b42]['d']=_0x49faca,saveData();}function updSent(_0x40f2ef,_0x211f34){const _0x528494=_0x2f6c0c;favData['sents'][_0x40f2ef][_0x528494(0x15a)]=_0x211f34,saveData();}function loadData(){const _0x525d97=_0x2f6c0c,_0x4d01d4=localStorage[_0x525d97(0x13f)](currentFileKey);if(_0x4d01d4)favData=JSON[_0x525d97(0x11f)](_0x4d01d4);else favData={'words':[],'sents':[],'notes':[]};refreshAllTabs();}function saveData(){const _0x38ab09=_0x2f6c0c;localStorage[_0x38ab09(0x13b)](currentFileKey,JSON[_0x38ab09(0x1a1)](favData));}function _0x330a(){const _0x315cc1=['split','\x20:\x20','1348333lQypFM','endsWith','remove','block','deviceUID','</h4><p>','readAsText','pdf','result','stringify','none','code','includes','writeText','backup','<b\x20style=\x22color:#4CAF50\x22>[ç¬”è®°]</b><br>','apiFields','toFixed','youdao','random','#pageNotes\x20.fp-tab','name','INPUT','substring','ğŸ”...','æ— é‡Šä¹‰(æœªé…ç½®ç¿»è¯‘)','.nav-item','currentTime','play','innerText','\x20-->\x20','ä¿å­˜æˆåŠŸ','querySelectorAll','</td><td>','\x22,\x22','<b>[','48zNXsYv','fVid','innerWidth','</div>','flex','color','Space','âœ…\x20ç™¾åº¦ç¿»è¯‘å·²å†…ç½®','click','1074447fCHKFd','SH_MASTER_','unshift','.ass','16hbCAED','touchstart','<input\x20id=\x22k1\x22\x20placeholder=\x22åº”ç”¨ID\x22\x20style=\x22width:100%;margin-bottom:5px\x22\x20value=\x22','lockMsg','toLowerCase','preventDefault','filter','TEXTAREA','<h1>å­¦ä¹ è®°å½•</h1><h2>å•è¯è¡¨</h2><table\x20class=\x27print-table\x27><thead><tr><th\x20class=\x27col-word\x27>å•è¯</th><th\x20class=\x27col-def\x27>è§£é‡Š/ç¬”è®°</th><th\x20class=\x27col-blank\x27>é»˜å†™/å¤‡æ³¨</th></tr></thead><tbody>','pause','SH_API_V27','print',')\x22>Ã—</span></div><input\x20class=\x22fav-input\x22\x20value=\x22','\x22\x20oninput=\x22updNote(\x27title\x27,this.value)\x22><textarea\x20style=\x22flex:1;background:#111;border:none;padding:10px;color:#ddd;resize:none;font-size:14px;width:100%\x22\x20placeholder=\x22å†…å®¹...\x22\x20oninput=\x22updNote(\x27content\x27,this.value)\x22>','pageNotes','add','https://fanyi-api.baidu.com/api/trans/vip/translate?q=','inA','files','trim','\x22\x20oninput=\x22updSent(','lockScreen','<input\x20id=\x22k1\x22\x20placeholder=\x22APP\x20ID\x22\x20style=\x22width:100%;margin-bottom:5px\x22\x20value=\x22','baidu','å¥å­,\x22','parse','å¤åˆ¶æˆåŠŸ','70LngLju','src','å·²æ”¶è—','\x22,-\x0a','center','scrollIntoView','876845SMOJPu','createElement','pageSubs','tagName','length','popDef','key','ontimeupdate','apiStatusDisplay','æ¿€æ´»ç é”™è¯¯','notes','indexOf','display','\x20æ¡å­—å¹•',',this.value)\x22></div>','change','...</p></div>','aud','<div\x20style=\x27text-align:center;color:#666;margin-top:20px\x27>ç©º</div>','sb-','setItem','slice','getElementById','onload','getItem','value','now','subs',']</b><br>','then','sents','json','https://api.dictionaryapi.dev/api/v2/entries/en/','join','tp-','replace','target','</span><span\x20style=\x22color:#f44336;cursor:pointer\x22\x20onclick=\x22delFav(\x27w\x27,','smooth','innerHTML','classList','637486NeAVOw','<div\x20class=\x22fav-item\x22><div\x20class=\x22fav-head\x22><span\x20class=\x22fav-word\x22>','\x22><input\x20id=\x22k2\x22\x20type=\x22password\x22\x20placeholder=\x22å¯†é’¥\x22\x20style=\x22width:100%\x22\x20value=\x22','trans_result','-->','<div>','toggle','modalExport','partOfSpeech','</textarea></div>','note','\ufeffç±»å‹,å†…å®¹,å¤‡æ³¨,æ—¶é—´\x0a','ç½‘ç»œé”™è¯¯','popCard','find','teleprompter','</tbody></table><h2>é‡ç‚¹å¥</h2><table\x20class=\x27print-table\x27><thead><tr><th>å¥å­</th><th>ç¬”è®°</th></tr></thead><tbody>',')\x22>Ã—</span></div><input\x20class=\x22fav-input\x22\x20placeholder=\x22å¤‡æ³¨...\x22\x20value=\x22','\x22\x20oninput=\x22updWord(','href','4641222QINmfr','appid','true','#4CAF50','75478KGJGhd','<div\x20class=\x22fav-item\x22><div\x20class=\x22fav-head\x22><span>','popWord','keydown','âœ…\x20å·²åŠ è½½\x20','printArea','default',')\x22><h4>','getTime','provider','active','1736976DnfAgb','layout-swap','download','words','</td><td></td></tr>','toString','APP_UID','APP_ACTIVATED','meanings','push','<div\x20style=\x22padding:10px;border-bottom:1px\x20solid\x20#333\x22><button\x20class=\x22btn\x20btn-blue\x22\x20style=\x22width:100%\x22\x20onclick=\x22createNote()\x22>+\x20æ–°å»ºç¬”è®°</button></div>',')\x22>åˆ é™¤</button></div><input\x20class=\x22note-title-input\x22\x20style=\x22background:#111;border:none;border-bottom:1px\x20solid\x20#333;padding:10px;color:#fff;font-weight:bold;width:100%\x22\x20placeholder=\x22æ ‡é¢˜\x22\x20value=\x22','forEach','btnLoop','addEventListener','txt','style','apiProvider','APIæ— ç»“æœ','<div\x20style=\x27text-align:center;color:#666;margin-top:20px\x27>æš‚æ— ç¬”è®°</div>','title','definitions','definition','match','æ¢å¤æˆåŠŸï¼','csv','active-loop','<div\x20style=\x22display:flex;flex-direction:column;height:100%\x22><div\x20style=\x22display:flex;\x20border-bottom:1px\x20solid\x20#333;\x20padding:5px\x22><button\x20class=\x22btn\x22\x20style=\x22background:none;color:#aaa\x22\x20onclick=\x22closeNoteEditor()\x22>â†\x20è¿”å›</button><div\x20style=\x22flex:1\x22></div><button\x20class=\x22btn\x22\x20style=\x22background:none;color:#f44336\x22\x20onclick=\x22deleteNote(','MD5','hide-','.float-panel-pc\x20.fp-tab','createObjectURL','&sign=','dst','&salt='];_0x330a=function(){return _0x315cc1;};return _0x330a();}function saveWord(){const _0x35e92f=_0x2f6c0c;curWord&&(favData[_0x35e92f(0x176)]['unshift']({'t':curWord,'d':document[_0x35e92f(0x13d)](_0x35e92f(0x12c))[_0x35e92f(0xf2)]}),saveData(),alert('å·²æ”¶è—'),document[_0x35e92f(0x13d)](_0x35e92f(0x15d))[_0x35e92f(0x183)]['display']='none',refreshAllTabs());}function addFav(_0x4917d9,_0x9977c9){const _0x2876be=_0x2f6c0c;favData[_0x2876be(0x145)][_0x2876be(0x104)]({'t':_0x9977c9,'note':''}),saveData(),alert(_0x2876be(0x123)),refreshAllTabs();}function delFav(_0x43ca72,_0x5a8acc){const _0x52bfc4=_0x2f6c0c;if(_0x43ca72==='w')favData[_0x52bfc4(0x176)]['splice'](_0x5a8acc,0x1);else favData['sents']['splice'](_0x5a8acc,0x1);saveData(),refreshAllTabs();}function seek(_0x1966c0){const _0x4362ad=_0x2f6c0c;player&&(player[_0x4362ad(0xf0)]=_0x1966c0,player[_0x4362ad(0xf1)]());}function onTick(){const _0x1cfee4=_0x2f6c0c;if(!player)return;const _0x10062a=player[_0x1cfee4(0xf0)];isLooping&&loopEnd&&_0x10062a>=loopEnd&&(player[_0x1cfee4(0xf0)]=loopStart,player[_0x1cfee4(0xf1)]());const _0x36ff18=subtitles[_0x1cfee4(0x15e)](_0x24fac7=>_0x10062a>=_0x24fac7['s']&&_0x10062a<=_0x24fac7['e']);if(_0x36ff18){const _0x4b0a53=subtitles[_0x1cfee4(0x132)](_0x36ff18);if(_0x4b0a53!==activeIndex){activeIndex!==-0x1&&(document[_0x1cfee4(0x13d)](_0x1cfee4(0x149)+activeIndex)?.[_0x1cfee4(0x14f)][_0x1cfee4(0x19a)](_0x1cfee4(0x172)),document['getElementById'](_0x1cfee4(0x13a)+activeIndex)?.['classList'][_0x1cfee4(0x19a)]('active'));activeIndex=_0x4b0a53;const _0x51d029=document['getElementById']('tp-'+_0x4b0a53);if(_0x51d029){_0x51d029[_0x1cfee4(0x14f)][_0x1cfee4(0x115)](_0x1cfee4(0x172));if(!isUserTouching)_0x51d029[_0x1cfee4(0x126)]({'behavior':_0x1cfee4(0x14d),'block':_0x1cfee4(0x125)});}const _0x3ce308=document['getElementById'](_0x1cfee4(0x13a)+_0x4b0a53);if(_0x3ce308){_0x3ce308[_0x1cfee4(0x14f)][_0x1cfee4(0x115)]('active');if(!isUserTouching)_0x3ce308[_0x1cfee4(0x126)]({'behavior':_0x1cfee4(0x14d),'block':'center'});}}}}function toggleSwap(){const _0x1fad8d=_0x2f6c0c;document[_0x1fad8d(0x13d)](_0x1fad8d(0x15f))[_0x1fad8d(0x14f)][_0x1fad8d(0x156)](_0x1fad8d(0x174));}function toggleVis(_0x2c22fb){const _0x266aaa=_0x2f6c0c;document['getElementById']('teleprompter')[_0x266aaa(0x14f)][_0x266aaa(0x156)](_0x266aaa(0x190)+_0x2c22fb);}function setA(){const _0xc2ad38=_0x2f6c0c;loopStart=player[_0xc2ad38(0xf0)],document[_0xc2ad38(0x13d)]('inA')[_0xc2ad38(0x140)]=loopStart[_0xc2ad38(0x1a9)](0x1);}function setB(){const _0x4b1ec7=_0x2f6c0c;loopEnd=player['currentTime'],document[_0x4b1ec7(0x13d)]('inB')[_0x4b1ec7(0x140)]=loopEnd[_0x4b1ec7(0x1a9)](0x1);}function _0x5c6b(_0x5453dc,_0x500244){_0x5453dc=_0x5453dc-0xf0;const _0x330a9a=_0x330a();let _0x5c6b72=_0x330a9a[_0x5453dc];return _0x5c6b72;}function toggleLoop(){const _0x1f15a7=_0x2f6c0c;loopStart=parseFloat(document[_0x1f15a7(0x13d)](_0x1f15a7(0x117))[_0x1f15a7(0x140)]),loopEnd=parseFloat(document[_0x1f15a7(0x13d)]('inB')[_0x1f15a7(0x140)]),loopEnd>loopStart&&(isLooping=!![],player[_0x1f15a7(0xf0)]=loopStart,player[_0x1f15a7(0xf1)](),document['getElementById'](_0x1f15a7(0x180))[_0x1f15a7(0x14f)]['add'](_0x1f15a7(0x18d)));}function clearLoop(){const _0x512df5=_0x2f6c0c;isLooping=![],document[_0x512df5(0x13d)](_0x512df5(0x180))[_0x512df5(0x14f)]['remove'](_0x512df5(0x18d));}function updateApiUI(){const _0x31ac22=_0x2f6c0c,_0x420fa7=document[_0x31ac22(0x13d)](_0x31ac22(0x184))[_0x31ac22(0x140)],_0x51b5db=document[_0x31ac22(0x13d)](_0x31ac22(0x1a8));if(_0x420fa7==='baidu')_0x51b5db[_0x31ac22(0x14e)]=_0x31ac22(0x11c)+apiConfig['id']+_0x31ac22(0x152)+apiConfig[_0x31ac22(0x12d)]+'\x22>';else{if(_0x420fa7===_0x31ac22(0x1aa))_0x51b5db[_0x31ac22(0x14e)]=_0x31ac22(0x108)+apiConfig['id']+_0x31ac22(0x152)+apiConfig['key']+'\x22>';else _0x51b5db[_0x31ac22(0x14e)]='';}}async function saveApiSettings(){const _0x563dab=_0x2f6c0c;apiConfig[_0x563dab(0x171)]=document[_0x563dab(0x13d)](_0x563dab(0x184))[_0x563dab(0x140)],apiConfig[_0x563dab(0x171)]!=='none'&&(apiConfig['id']=document[_0x563dab(0x13d)]('k1')['value'],apiConfig[_0x563dab(0x12d)]=document[_0x563dab(0x13d)]('k2')[_0x563dab(0x140)]),localStorage[_0x563dab(0x13b)](_0x563dab(0x110),JSON[_0x563dab(0x1a1)](apiConfig)),alert(_0x563dab(0xf4));}function loadApi(){const _0x33306f=_0x2f6c0c,_0x21f53a=localStorage['getItem']('SH_API_V27');if(_0x21f53a)apiConfig=JSON['parse'](_0x21f53a);document[_0x33306f(0x13d)]('apiProvider')[_0x33306f(0x140)]=apiConfig['provider'];}function parseSRT(_0x5053ad){const _0x479f60=_0x2f6c0c;subtitles=[],_0x5053ad[_0x479f60(0x14a)](/\r\n/g,'\x0a')[_0x479f60(0x14a)](/\r/g,'\x0a')[_0x479f60(0x196)]('\x0a\x0a')['forEach'](_0x27daf4=>{const _0x1931ad=_0x479f60,_0x33a7e5=_0x27daf4['split']('\x0a')['filter'](_0x36ba86=>_0x36ba86[_0x1931ad(0x119)]());if(_0x33a7e5['length']>=0x3){const _0xd67381=_0x33a7e5[_0x1931ad(0x15e)](_0x2b0a5a=>_0x2b0a5a[_0x1931ad(0x1a4)](_0x1931ad(0x154)));if(_0xd67381){const _0x2ed359=_0x33a7e5[_0x1931ad(0x132)](_0xd67381);let _0x10ece2=_0x33a7e5[_0x2ed359+0x1]||'',_0x3500d7='';if(_0x33a7e5[_0x1931ad(0x12b)]>_0x2ed359+0x2)_0x3500d7=_0x33a7e5[_0x1931ad(0x13c)](_0x2ed359+0x2)[_0x1931ad(0x148)]('\x20');subtitles['push']({'s':toSec(_0xd67381[_0x1931ad(0x196)](_0x1931ad(0xf3))[0x0]),'e':toSec(_0xd67381[_0x1931ad(0x196)](_0x1931ad(0xf3))[0x1]),'f':_0x10ece2,'n':_0x3500d7});}}});}function parseASS(_0x386d02){const _0x497e58=_0x2f6c0c;subtitles=[],_0x386d02['split']('\x0a')[_0x497e58(0x17f)](_0x17dd05=>{const _0x299f93=_0x497e58;if(_0x17dd05['startsWith']('Dialogue:')){const _0x4583a9=_0x17dd05['split'](',');if(_0x4583a9[_0x299f93(0x12b)]>0x9)subtitles[_0x299f93(0x17c)]({'s':toSec(_0x4583a9[0x1]),'e':toSec(_0x4583a9[0x2]),'f':_0x4583a9[_0x299f93(0x13c)](0x9)[_0x299f93(0x148)](',')['replace'](/{.*?}/g,'')[_0x299f93(0x14a)](/\\N/g,'\x20'),'n':''});}});}function toSec(_0x5ba6a8){const _0x5a6b46=_0x2f6c0c;if(!_0x5ba6a8)return 0x0;const _0x22a7b1=_0x5ba6a8[_0x5a6b46(0x119)]()['replace'](',','.')[_0x5a6b46(0x196)](':');return parseInt(_0x22a7b1[0x0])*0xe10+parseInt(_0x22a7b1[0x1])*0x3c+parseFloat(_0x22a7b1[0x2]);}function esc(_0x3e196e){const _0x368b01=_0x2f6c0c;return _0x3e196e[_0x368b01(0x14a)](/'/g,'\x5c\x27');}</script>
</body>

</html>

