<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>è‹±è¯­è§†é¢‘å­¦ä¹ </title>

<script src="crypto-js.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

<style>
    /* --- 0. å…¨å±€è®¾ç½® --- */
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: #000; color: #ccc; margin: 0; display: flex; height: 100vh; overflow: hidden; }
    @media (max-width: 768px) { body { flex-direction: column; } }
    ::-webkit-scrollbar { width: 0; background: transparent; }
    button { cursor: pointer; outline: none; user-select: none; }
    input, textarea, select { outline: none; font-family: inherit; background: #222; border: 1px solid #444; color: #eee; padding: 8px; border-radius: 6px; }

    /* --- 1. é”å±é—¨ç¦ --- */
    #lockScreen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #111; z-index: 10000; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 30px; text-align: center; }
    .lock-card { width: 100%; max-width: 320px; background: #1e1e1e; padding: 25px; border-radius: 12px; }
    .lock-uid { font-family: monospace; font-size: 24px; color: #4CAF50; margin: 15px 0; background: #000; padding: 10px; border-radius: 6px; user-select: all; border: 1px dashed #333; }
    .lock-btn { width: 100%; padding: 12px; background: #2196F3; color: white; border: none; border-radius: 6px; font-size: 16px; margin-top: 15px; font-weight: bold; }
    .lock-msg { color: #f44336; margin-top: 15px; font-size: 14px; min-height: 20px; }

    /* --- 2. ç•Œé¢ç»„ä»¶ --- */
    .sidebar-full { width: 260px; background: #111; border-right: 1px solid #333; display: flex; flex-direction: column; z-index: 5; flex-shrink: 0; }
    @media (max-width: 768px) { .sidebar-full { display: none; } }
    .sb-header { padding: 15px; border-bottom: 1px solid #333; font-weight: bold; color: #fff; background: #1a1a1a; display: flex; justify-content: space-between; align-items: center; }
    .sb-list { list-style: none; padding: 0; margin: 0; flex: 1; overflow-y: auto; }
    .sb-item { padding: 12px; border-bottom: 1px solid #222; cursor: pointer; font-size: 13px; color: #888; display:flex; gap:10px; transition:0.2s; align-items: flex-start; }
    .sb-item:hover { background: #222; } .sb-item.active { background: #1a1a1a; border-left: 3px solid #4CAF50; color: #eee; }
    .sb-btns { display: flex; flex-direction: column; gap: 8px; margin-top: 2px; flex-shrink: 0; }
    .icon-btn { background: transparent; border: none; color: #555; font-size: 16px; padding: 0; transition:0.2s; }
    .icon-btn:hover { color: #fff; transform: scale(1.1); }
    .icon-btn.star:hover { color: #FFC107; }

    .main-stage { flex: 1; display: flex; flex-direction: column; position: relative; overflow: hidden; padding-bottom: 55px; }
    .toolbar-top { display: flex; gap: 10px; padding: 10px; background: #1a1a1a; align-items: center; flex-shrink: 0; border-bottom: 1px solid #333; overflow-x: auto; }
    .btn { padding: 6px 14px; background: #333; color: #ccc; border: 1px solid #444; border-radius: 6px; font-size: 13px; white-space: nowrap; font-weight: 500; }
    .btn:active { transform: scale(0.96); background: #555; color: white; }
    .btn-blue { background: #1565C0; border: none; color: white; }

    .video-wrapper { width: 100%; aspect-ratio: 16 / 9; background: #000; position: relative; display: flex; justify-content: center; align-items: center; flex-shrink: 0; }
    video { width: 100%; height: 100%; object-fit: contain; }
    #placeholder { position: absolute; color: #444; font-size: 14px; pointer-events: none; }

    .ab-controls { display: flex; align-items: center; justify-content: center; gap: 12px; padding: 10px; background: #111; border-bottom: 1px solid #333; flex-shrink: 0; }
    .btn-circle { width: 36px; height: 36px; border-radius: 50%; border: 1px solid #444; background: #222; color: #888; display: flex; align-items: center; justify-content: center; font-size: 12px; transition:0.2s; }
    .btn-circle:active { background: #4CAF50; color: white; border-color: #4CAF50; }
    .input-time { width: 55px; background: #000; border: 1px solid #333; color: #4CAF50; text-align: center; font-size: 12px; padding: 4px; }
    .active-loop { background: #E91E63 !important; border-color: #E91E63 !important; color: white !important; }

    /* å­—å¹•åŒº */
    .content-area { flex: 1; position: relative; overflow: hidden; display: flex; flex-direction: column; }
    .page-subs { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
    .teleprompter { flex: 1; background: #000; overflow-y: auto; position: relative; -webkit-overflow-scrolling: touch; padding: 60px 0; }
    .tp-row { padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #111; transition: background 0.1s; }
    .tp-row.active { background: #1a1a1a; border-left: 3px solid #4CAF50; }
    .tp-text-col { flex: 1; display: flex; flex-direction: column; gap: 6px; margin-right: 15px; }
    .tp-foreign { font-size: 16px; font-weight: 600; color: #fff; line-height: 1.4; text-align: left; }
    .tp-native { font-size: 13px; color: #888; line-height: 1.3; text-align: left; }
    .word-click { border-bottom: 1px solid transparent; cursor: pointer; }
    .word-click:active { background: #4CAF50; color: white; border-radius: 3px; }
    .tp-play-btn { background: transparent; color: #444; border: 1px solid #333; width: 32px; height: 32px; border-radius: 50%; flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-size: 10px; cursor: pointer; transition:0.2s;}
    .tp-play-btn:active { background: #4CAF50; color: white; border-color: #4CAF50; }
    .layout-swap .tp-text-col { flex-direction: column-reverse; }
    .hide-f .tp-foreign { display: none; }
    .hide-n .tp-native { display: none; }

    /* åº•éƒ¨é¢æ¿ */
    .page-notes { flex: 1; display: none; flex-direction: column; background: #151515; overflow: hidden; }
    .bottom-nav { position: fixed; bottom: 0; left: 0; width: 100%; height: 55px; 
    background: #1a1a1a; border-top: 1px solid #333; 
    display: none; justify-content: space-around; align-items: center; 
    z-index: 5000; }
    @media (max-width: 768px) { .bottom-nav { display: flex; } }
    .nav-item { flex: 1; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #666; font-size: 10px; cursor: pointer; transition:0.2s; }
    .nav-item i { font-size: 20px; margin-bottom: 3px; font-style: normal; }
    .nav-item.active { color: #4CAF50; background: #222; }

    .float-panel-pc { position: absolute; bottom: 20px; right: 20px; width: 360px; height: 450px; background: #1e1e1e; border: 1px solid #444; border-radius: 12px; display: flex; flex-direction: column; z-index: 100; box-shadow: 0 10px 40px rgba(0,0,0,0.5); }
    @media (max-width: 768px) { .float-panel-pc { display: none; } }

    .fp-tabs { display: flex; border-bottom: 1px solid #333; background: #252525; flex-shrink: 0; }
    .fp-tab { flex: 1; padding: 12px; text-align: center; font-size: 13px; color: #888; border-right: 1px solid #333; cursor: pointer; transition:0.2s;}
    .fp-tab.active { color: #fff; font-weight: bold; background: #1e1e1e; border-top: 2px solid #4CAF50; }
    .list-container { flex: 1; overflow-y: auto; padding: 0; }
    .fav-item { padding: 12px; border-bottom: 1px solid #333; position: relative; color: #ccc; font-size: 13px; background: #1e1e1e; }
    .fav-item:last-child { border-bottom: none; }
    .fav-head { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 6px; }
    .fav-word { color: #4CAF50; font-weight: bold; font-size: 15px; }
    .fav-input { width: 100%; background: #151515; border: 1px solid #333; color: #aaa; font-size: 12px; padding: 6px; margin-top: 5px; }
    
    .note-toolbar { padding: 10px; border-bottom: 1px solid #333; display: flex; gap: 10px; background: #222; }
    .note-card { background: #252525; border: 1px solid #333; border-radius: 6px; padding: 12px; margin: 10px; cursor: pointer; }
    .note-card h4 { margin: 0 0 5px 0; color: #eee; font-size: 14px; }
    .note-card p { margin: 0; color: #888; font-size: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .note-editor { display: none; flex-direction: column; height: 100%; background: #151515; }
    .note-title-input { background: #111; border: none; border-bottom: 1px solid #333; padding: 15px; font-size: 16px; color: #fff; font-weight: bold; }
    .note-body-input { flex: 1; background: #111; border: none; padding: 15px; font-size: 14px; color: #ddd; line-height: 1.6; resize: none; }

    /* å¼¹çª—ä¸èœå• */
    #popCard { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 280px; max-height: 60vh; background: rgba(30,30,30, 0.98); border: 1px solid #555; border-radius: 12px; padding: 15px; z-index: 2000; box-shadow: 0 20px 60px rgba(0,0,0,0.9); overflow-y: auto; }
    .pop-head { display: flex; justify-content: space-between; padding-bottom: 10px; border-bottom: 1px solid #444; margin-bottom: 10px; }
    .pop-word { color: #4CAF50; font-size: 20px; font-weight: bold; }
    .pop-def { font-size: 14px; line-height: 1.6; color: #ccc; }

    .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 5000; align-items: center; justify-content: center; }
    .modal-box { background: #252525; padding: 25px; border-radius: 12px; width: 90%; max-width: 320px; text-align: center; }
    .export-btn { display: block; width: 100%; padding: 12px; background: #333; color: #eee; border: 1px solid #444; margin-bottom: 10px; border-radius: 6px; text-align: left; transition:0.2s}
    .export-btn:hover { background: #444; }
    
    @media print {
        body > * { display: none !important; }
        #printArea { display: block !important; background: white; color: black; padding: 20px; font-family: "Times New Roman", serif; }
        .print-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        .print-table th, .print-table td { border: 1px solid #000; padding: 8px; text-align: left; vertical-align: top; }
        .print-table th { background-color: #f0f0f0; font-weight: bold; }
        .col-word { width: 25%; font-weight: bold; }
        .col-def { width: 45%; }
        .col-blank { width: 30%; }
        h1 { text-align: center; border-bottom: 2px solid #000; padding-bottom: 10px; }
        h2 { margin-top: 30px; border-bottom: 1px solid #666; }
    }
    #printArea { display: none; }
</style>
</head>
<body>

<div id="lockScreen">
    <div class="lock-card">
        <h2 style="margin:0; color:white">ğŸ”’ èº«ä»½éªŒè¯</h2>
        <div style="text-align:left; color:#aaa; font-size:12px; margin-bottom:5px; margin-top:20px">æ‚¨çš„æœºå™¨ç :</div>
        <div id="deviceUID" class="lock-uid" onclick="copyUID()">...</div>
        <input type="text" id="lockInput" style="width:100%; padding:12px; font-size:16px; background:#000; border:1px solid #444; text-align:center; color:#fff; margin-top:15px" placeholder="è¾“å…¥æ¿€æ´»ç ">
        <button class="lock-btn" onclick="unlockApp()">è§£é”è¿›å…¥</button>
        <div id="lockMsg" class="lock-msg"></div>
    </div>
</div>

<div id="popCard">
    <div class="pop-head"><span class="pop-word" id="popWord">Word</span><div><button class="btn" onclick="saveFromPopup()">â­</button><button class="btn" onclick="document.getElementById('popCard').style.display='none'">Ã—</button></div></div>
    <div id="popDef">Loading...</div>
</div>

<div id="modalExport" class="modal-overlay">
    <div class="modal-box">
        <h3 style="margin-top:0; color:#fff">ğŸ“¤ å¯¼å‡º & è®¾ç½®</h3>
        <button class="export-btn" onclick="doExport('pdf')">ğŸ“„ PDF (æ‰“å°ç‰ˆ)</button>
        <button class="export-btn" onclick="doExport('excel')">ğŸ“Š Excel (CSV)</button>
        <button class="export-btn" onclick="doExport('txt')">ğŸ“ TXT (çº¯æ–‡æœ¬)</button>
        <button class="export-btn" onclick="doExport('backup')">ğŸ“¦ å¤‡ä»½æ–‡ä»¶</button>
        
        <input type="file" id="importFile" accept=".backup,.json" style="display:none" onchange="importBackupFile(this)">
        <button class="btn btn-blue" style="width:100%; margin-top:5px" onclick="document.getElementById('importFile').click()">ğŸ“¥ æ¢å¤å¤‡ä»½</button>
        
        <hr style="border:0; border-top:1px dashed #444; margin:15px 0">
        <div style="text-align:left; font-size:12px; color:#aaa; margin-bottom:5px"> çŠ¶æ€:</div>
        <div id="apiStatusDisplay" style="text-align:left; margin-bottom:15px; color:#4CAF50">âšª  (ä»…ä½¿ç”¨æœ¬åœ°è¯å…¸)</div>
        <button class="btn" style="width:100%" onclick="document.getElementById('modalExport').style.display='none'">å…³é—­</button>
    </div>
</div>
<div id="printArea"></div>

<div class="sidebar-full">
    <div class="sb-header"><span>ğŸ“œ åˆ—è¡¨</span></div>
    <ul id="fullList" class="sb-list"></ul>
</div>

<div class="main-stage">
    <div class="toolbar-top">
        <button class="btn" onclick="document.getElementById('fVid').click()">ğŸ“‚ è§†é¢‘</button>
        <button class="btn" onclick="document.getElementById('fSub').click()">ğŸ“ å­—å¹•</button>
        <div style="flex:1"></div>
        <button class="btn" onclick="toggleSwap()">â‡… äº¤æ¢</button>
        <button class="btn" onclick="toggleVis('f')">ğŸ‘ï¸ä¸Š</button>
        <button class="btn" onclick="toggleVis('n')">ğŸ‘ï¸ä¸‹</button>
        <button class="btn" onclick="document.getElementById('modalExport').style.display='flex'">âš™ï¸</button>
        <input type="file" id="fVid" style="display:none" accept="*/*">
        <input type="file" id="fSub" style="display:none" accept="*/*">
    </div>
    <div class="video-wrapper"><video id="vid" controls playsinline></video><audio id="aud" controls style="display:none"></audio><div id="placeholder">è¯·å¯¼å…¥æ–‡ä»¶</div></div>
    <div class="ab-controls">
        <button class="btn-circle" onclick="setA()">A</button><input id="inA" class="input-time" placeholder="0.0"><span style="color:#444">-</span><input id="inB" class="input-time" placeholder="0.0"><button class="btn-circle" onclick="setB()">B</button><button class="btn" id="btnLoop" onclick="toggleLoop()" style="margin-left:10px;">ğŸ”</button><button class="btn-circle" onclick="clearLoop()" style="color:#f44336; border:none">Ã—</button>
    </div>
    <div class="content-area">
        <div id="pageSubs" class="page-subs"><div id="teleprompter" class="teleprompter"><div style="text-align:center; color:#444; padding-top:20px; font-size:12px">å­—å¹•åŒº</div></div></div>
        <div id="pageNotes" class="page-notes"><div class="fp-tabs"><div class="fp-tab active" onclick="renderTab('words', this)">å•è¯æœ¬</div><div class="fp-tab" onclick="renderTab('sents', this)">å¥åº“</div><div class="fp-tab" onclick="renderTab('notes', this)">ç¬”è®°</div><div class="fp-tab" onclick="document.getElementById('modalExport').style.display='flex'">ğŸ’¾</div></div><div id="noteContent" class="list-container"></div></div>
    </div>
</div>

<div class="bottom-nav">
    <div class="nav-item active" onclick="navSwitch('subs', this)"><i>ğŸ“</i>å­—å¹•</div>
    <div class="nav-item" onclick="navSwitch('notes', this)"><i>ğŸ“’</i>å­¦ä¹ è®°å½•</div>
</div>

<div class="float-panel-pc">
    <div class="fp-tabs"><div class="fp-tab active" onclick="renderPcTab('words', this)">å•è¯</div><div class="fp-tab" onclick="renderPcTab('sents', this)">å¥åº“</div><div class="fp-tab" onclick="renderPcTab('notes', this)">ç¬”è®°</div><div class="fp-tab" onclick="document.getElementById('modalExport').style.display='flex'">ğŸ’¾</div></div><div id="pcNoteContent" class="list-container"></div>
</div>

<script>
   // ==========================================

    // ==========================================
    const SECURE_DATA = {
       
        PASSPHRASE: "S", 

      
        ENCRYPTED_ID: "U2FsdGVkX1/mJtsgO2XnpSvOynudnE3UG3xu/u3elMgCUFUHk1RGnLwKZ97xlrST",

    
        ENCRYPTED_KEY: "U2FsdGVkX1/ZukuZcKFxpiG7cYxwHs88d4oxwkfeDQdtmnKyhFhV7VDM8aFhTspR",

        SALT: "MY_SECRET_SALT_2025"
    };


    let APP_CONFIG = { 
        SALT: SECURE_DATA.SALT, 
        baidu: { appid: '', key: '' } 
    };

    try {
        const p = SECURE_DATA.PASSPHRASE;
        if (p && SECURE_DATA.ENCRYPTED_ID) {
            // å¼€å§‹è§£å¯†...
            const realId = CryptoJS.AES.decrypt(SECURE_DATA.ENCRYPTED_ID, p).toString(CryptoJS.enc.Utf8);
            const realKey = CryptoJS.AES.decrypt(SECURE_DATA.ENCRYPTED_KEY, p).toString(CryptoJS.enc.Utf8);
            
            // å¦‚æœè§£å¯†æˆåŠŸï¼Œå¡«å…¥é…ç½®
            if (realId && realKey) {
                APP_CONFIG.baidu.appid = realId;
                APP_CONFIG.baidu.key = realKey;
                console.log("API Key è§£å¯†æˆåŠŸ âœ…");
            }
        }
    } catch (e) {
        console.error("API Key è§£å¯†å¤±è´¥ï¼Œè¯·æ£€æŸ¥æš—å·æ˜¯å¦æ­£ç¡® âŒ");
    }
    // ==========================================

    // --- 0. é—¨ç¦ç³»ç»Ÿ ---
const _0x38865e=_0x3041;(function(_0x5b3e69,_0x10efa2){const _0x11eb50=_0x3041,_0x1e36d6=_0x5b3e69();while(!![]){try{const _0x35f36e=-parseInt(_0x11eb50(0x134))/0x1+-parseInt(_0x11eb50(0xed))/0x2+-parseInt(_0x11eb50(0xb0))/0x3+parseInt(_0x11eb50(0x87))/0x4*(-parseInt(_0x11eb50(0xf7))/0x5)+parseInt(_0x11eb50(0xb5))/0x6+parseInt(_0x11eb50(0x10c))/0x7+parseInt(_0x11eb50(0x125))/0x8;if(_0x35f36e===_0x10efa2)break;else _0x1e36d6['push'](_0x1e36d6['shift']());}catch(_0x23ca05){_0x1e36d6['push'](_0x1e36d6['shift']());}}}(_0x4e9c,0xd85f3));let myUID='';function initSecurity(){const _0x3268fb=_0x3041;let _0x502f53=localStorage['getItem'](_0x3268fb(0x7c));!_0x502f53&&(_0x502f53=Math[_0x3268fb(0x9b)]()[_0x3268fb(0x8b)](0x24)[_0x3268fb(0x111)](0x2,0x8)['toUpperCase'](),localStorage[_0x3268fb(0x7d)](_0x3268fb(0x7c),_0x502f53)),myUID=_0x502f53,document[_0x3268fb(0x94)](_0x3268fb(0x109))[_0x3268fb(0x13e)]=myUID,localStorage[_0x3268fb(0xc2)]('APP_ACTIVATED')===_0x3268fb(0xa6)&&(document[_0x3268fb(0x94)](_0x3268fb(0x128))[_0x3268fb(0x136)]['display']=_0x3268fb(0xba)),APP_CONFIG[_0x3268fb(0xc9)][_0x3268fb(0xcd)]&&(document[_0x3268fb(0x94)](_0x3268fb(0xab))[_0x3268fb(0x13e)]=_0x3268fb(0xf8),document[_0x3268fb(0x94)](_0x3268fb(0xab))[_0x3268fb(0x136)][_0x3268fb(0x117)]=_0x3268fb(0x105));}function unlockApp(){const _0x17eefc=_0x3041,_0x1af4d9=document[_0x17eefc(0x94)](_0x17eefc(0x12c))[_0x17eefc(0x81)][_0x17eefc(0x83)](),_0x33fbf5=CryptoJS[_0x17eefc(0x84)](myUID+APP_CONFIG[_0x17eefc(0xb7)])[_0x17eefc(0x8b)]()[_0x17eefc(0x111)](0x0,0x8);_0x1af4d9['toLowerCase']()===_0x33fbf5[_0x17eefc(0x11a)]()?(localStorage['setItem']('APP_ACTIVATED',_0x17eefc(0xa6)),document['getElementById']('lockScreen')[_0x17eefc(0x136)][_0x17eefc(0xc8)]=_0x17eefc(0xba)):document['getElementById']('lockMsg')[_0x17eefc(0x13e)]=_0x17eefc(0x9e);}function copyUID(){const _0x50906b=_0x3041;navigator[_0x50906b(0xb9)][_0x50906b(0xee)](myUID)['then'](()=>alert(_0x50906b(0x86)));}initSecurity();const vid=document[_0x38865e(0x94)](_0x38865e(0x99)),aud=document[_0x38865e(0x94)](_0x38865e(0xc1));let player=null,subtitles=[],loopStart=null,loopEnd=null,isLooping=![],activeIndex=-0x1,currentFileKey='default',favData={'words':[],'sents':[],'notes':[]},currentNoteTab='words',isUserTouching=![],scrollTimeout=null;document[_0x38865e(0x10d)]('keydown',_0x1d15b7=>{const _0x31a7d8=_0x38865e;if([_0x31a7d8(0xd0),_0x31a7d8(0x89)]['includes'](_0x1d15b7[_0x31a7d8(0xdc)][_0x31a7d8(0x8f)]))return;if(_0x1d15b7['code']==='Space'){_0x1d15b7['preventDefault']();if(player)player['paused']?player[_0x31a7d8(0xc0)]():player[_0x31a7d8(0xea)]();}});const tp=document[_0x38865e(0x94)](_0x38865e(0x120));tp[_0x38865e(0x10d)](_0x38865e(0xa3),()=>{isUserTouching=!![],clearTimeout(scrollTimeout);}),tp['addEventListener']('touchend',()=>{scrollTimeout=setTimeout(()=>{isUserTouching=![];},0xbb8);}),document[_0x38865e(0x94)](_0x38865e(0xd5))[_0x38865e(0x10d)](_0x38865e(0x130),_0x55b278=>{const _0x3bc202=_0x38865e,_0x59aef3=_0x55b278['target']['files'][0x0];if(!_0x59aef3)return;currentFileKey=_0x3bc202(0x103)+_0x59aef3[_0x3bc202(0x147)],loadData();const _0x1c8d9c=URL[_0x3bc202(0x132)](_0x59aef3);document[_0x3bc202(0x94)](_0x3bc202(0xdb))[_0x3bc202(0x136)][_0x3bc202(0xc8)]=_0x3bc202(0xba),vid[_0x3bc202(0x136)][_0x3bc202(0xc8)]=_0x3bc202(0xba),aud[_0x3bc202(0x136)][_0x3bc202(0xc8)]=_0x3bc202(0xba);_0x59aef3['name'][_0x3bc202(0x106)](/\.(mp3|wav|m4a)$/i)?(player=aud,player['style'][_0x3bc202(0xc8)]='block'):(player=vid,player[_0x3bc202(0x136)][_0x3bc202(0xc8)]='block');player[_0x3bc202(0x98)]=_0x1c8d9c,player[_0x3bc202(0x14b)]=onTick;if(window[_0x3bc202(0x11e)]<=0x300)navSwitch(_0x3bc202(0x9a),document['querySelectorAll']('.nav-item')[0x0]);}),document[_0x38865e(0x94)](_0x38865e(0xce))[_0x38865e(0x10d)](_0x38865e(0x130),_0x415747=>{const _0x440760=_0x38865e,_0x16feb4=_0x415747[_0x440760(0xdc)][_0x440760(0x100)][0x0];if(!_0x16feb4)return;const _0x328c13=new FileReader();_0x328c13[_0x440760(0x107)]=_0xed1143=>{const _0x12b936=_0x440760,_0x3e1e14=_0xed1143[_0x12b936(0xdc)]['result'];if(_0x16feb4[_0x12b936(0x147)][_0x12b936(0xc7)](_0x12b936(0xe2)))parseASS(_0x3e1e14);else parseSRT(_0x3e1e14);alert(_0x12b936(0xb8)+subtitles[_0x12b936(0xd9)]+_0x12b936(0xd7));function _0x5682ca(){const _0x5e0ecf=_0x12b936,_0x3f1a18=document[_0x5e0ecf(0x94)](_0x5e0ecf(0x120));_0x3f1a18[_0x5e0ecf(0xd2)]='';const _0x24c9bb=document['getElementById'](_0x5e0ecf(0xe4));_0x24c9bb[_0x5e0ecf(0xd2)]='',subtitles[_0x5e0ecf(0x13b)]((_0x547a41,_0x3fcd33)=>{const _0x208d17=_0x5e0ecf,_0x1aaa89=document[_0x208d17(0x139)]('li');_0x1aaa89['className']=_0x208d17(0x121),_0x1aaa89['id']=_0x208d17(0x104)+_0x3fcd33,_0x1aaa89[_0x208d17(0xd2)]=_0x208d17(0x91)+_0x547a41['s']+')\x22>â–¶</button><button\x20class=\x22icon-btn\x20star\x22\x20onclick=\x22addFav(\x27sent\x27,\x27'+esc(_0x547a41['f'])+_0x208d17(0x90)+_0x547a41['f']+'</div><span\x20class=\x22sb-cn\x22>'+_0x547a41['n']+'</span></div>',_0x24c9bb[_0x208d17(0x11f)](_0x1aaa89);const _0x55fb87=document[_0x208d17(0x139)]('div');_0x55fb87[_0x208d17(0xde)]='tp-row',_0x55fb87['id']=_0x208d17(0xd6)+_0x3fcd33;let _0x5a4c6d=_0x547a41['f'];_0x547a41['f'][_0x208d17(0x7f)]('\x20')&&(_0x5a4c6d=_0x547a41['f']['split']('\x20')[_0x208d17(0xb4)](_0x5dc5b2=>{const _0x2bb17a=_0x208d17,_0x1275a9=_0x5dc5b2['replace'](/'/g,'\x5c\x27')[_0x2bb17a(0xaa)](/"/g,'&quot;');return _0x2bb17a(0x10a)+_0x1275a9+_0x2bb17a(0xaf)+_0x5dc5b2+_0x2bb17a(0xb2);})[_0x208d17(0x9f)]('\x20')),_0x55fb87[_0x208d17(0xd2)]=_0x208d17(0xe5)+_0x5a4c6d+_0x208d17(0xac)+_0x547a41['n']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22tp-play-btn\x22\x20onclick=\x22seek('+_0x547a41['s']+_0x208d17(0xe8),_0x3f1a18[_0x208d17(0x11f)](_0x55fb87);});};},_0x328c13[_0x440760(0xa1)](_0x16feb4,'UTF-8');});let curWord='';async function clickWord(_0x5afed2){const _0x2a061f=_0x38865e;_0x5afed2=_0x5afed2[_0x2a061f(0xaa)](/[^\w-]/g,'');if(!_0x5afed2)return;curWord=_0x5afed2;const _0x4d24f0=document['getElementById'](_0x2a061f(0x10f));_0x4d24f0[_0x2a061f(0x136)]['display']=_0x2a061f(0xef),document[_0x2a061f(0x94)](_0x2a061f(0xec))[_0x2a061f(0x13e)]=_0x5afed2;const _0x4c6250=document[_0x2a061f(0x94)](_0x2a061f(0x140));_0x4c6250[_0x2a061f(0xd2)]=_0x2a061f(0x148);const _0x3b5f1b=favData[_0x2a061f(0xe1)][_0x2a061f(0xfb)](_0xa2f384=>_0xa2f384['t'][_0x2a061f(0x11a)]()===_0x5afed2[_0x2a061f(0x11a)]());if(_0x3b5f1b&&_0x3b5f1b['d']){_0x4c6250[_0x2a061f(0xd2)]=_0x2a061f(0x133)+_0x3b5f1b['d'];return;}if(APP_CONFIG[_0x2a061f(0xc9)][_0x2a061f(0xcd)]&&APP_CONFIG[_0x2a061f(0xc9)][_0x2a061f(0x93)])try{const _0x1fd837=new Date()[_0x2a061f(0xa5)](),_0x278ec2=APP_CONFIG[_0x2a061f(0xc9)]['appid']+_0x5afed2+_0x1fd837+APP_CONFIG[_0x2a061f(0xc9)]['key'],_0x3fa6e0=CryptoJS[_0x2a061f(0x84)](_0x278ec2)[_0x2a061f(0x8b)](),_0x4f0ec1=_0x2a061f(0x116)+encodeURIComponent(_0x5afed2)+'&from=en&to=zh&appid='+APP_CONFIG[_0x2a061f(0xc9)][_0x2a061f(0xcd)]+_0x2a061f(0xe9)+_0x1fd837+'&sign='+_0x3fa6e0,_0x1c7d38=await fetch(_0x4f0ec1)[_0x2a061f(0xd1)](_0x59e3f7=>_0x59e3f7[_0x2a061f(0x12b)]());if(_0x1c7d38['trans_result']){let _0x557acb='';_0x1c7d38['trans_result'][_0x2a061f(0x13b)](_0x3932b3=>_0x557acb+=_0x2a061f(0x12f)+_0x3932b3[_0x2a061f(0xca)]+'</div>'),_0x4c6250['innerHTML']=_0x557acb;}else _0x4c6250[_0x2a061f(0x13e)]=_0x2a061f(0xfd);}catch(_0x2595e6){_0x4c6250[_0x2a061f(0x13e)]=_0x2a061f(0x95);}else fetch(_0x2a061f(0xe7)+_0x5afed2)[_0x2a061f(0xd1)](_0x7ebb43=>_0x7ebb43[_0x2a061f(0x12b)]())['then'](_0x82317b=>{const _0xec0892=_0x2a061f;if(_0x82317b[0x0])_0x4c6250[_0xec0892(0xd2)]=_0xec0892(0xbd)+_0x82317b[0x0][_0xec0892(0x146)][0x0][_0xec0892(0xad)]+_0xec0892(0x80)+_0x82317b[0x0][_0xec0892(0x146)][0x0][_0xec0892(0x11c)][0x0][_0xec0892(0xae)];else _0x4c6250[_0xec0892(0x13e)]=_0xec0892(0xfc);})[_0x2a061f(0xd3)](()=>_0x4c6250['innerText']=_0x2a061f(0x138));}function doExport(_0x5aa2db){const _0xa93f5a=_0x38865e;document[_0xa93f5a(0x94)](_0xa93f5a(0x126))[_0xa93f5a(0x136)][_0xa93f5a(0xc8)]=_0xa93f5a(0xba);if(_0x5aa2db===_0xa93f5a(0xc6)){const _0x1f5677=document['getElementById'](_0xa93f5a(0xd8));let _0x45f99c=_0xa93f5a(0xf3);favData[_0xa93f5a(0xe1)]['forEach'](_0x33aff9=>_0x45f99c+='<tr><td>'+_0x33aff9['t']+_0xa93f5a(0x13d)+_0x33aff9['d']+_0xa93f5a(0xf5)),_0x45f99c+=_0xa93f5a(0x88),favData[_0xa93f5a(0xf1)][_0xa93f5a(0x13b)](_0x417dc6=>_0x45f99c+=_0xa93f5a(0x131)+_0x417dc6['t']+_0xa93f5a(0x13d)+(_0x417dc6[_0xa93f5a(0xc5)]||'')+_0xa93f5a(0xfa)),_0x45f99c+='</tbody></table>',_0x1f5677[_0xa93f5a(0xd2)]=_0x45f99c,window[_0xa93f5a(0x110)]();}else{let _0x8ed4b9='',_0x5a52fc=_0xa93f5a(0x127),_0x2ec8d6=_0xa93f5a(0xcb);if(_0x5aa2db==='excel')_0x8ed4b9=_0xa93f5a(0x13f),favData[_0xa93f5a(0xe1)]['forEach'](_0x47a404=>_0x8ed4b9+=_0xa93f5a(0x7e)+_0x47a404['t']+',\x22'+(_0x47a404['d']||'')[_0xa93f5a(0xaa)](/"/g,'\x22\x22')+_0xa93f5a(0xdf)),favData[_0xa93f5a(0xf1)][_0xa93f5a(0x13b)](_0x3eb50b=>_0x8ed4b9+='å¥å­,\x22'+(_0x3eb50b['t']||'')['replace'](/"/g,'\x22\x22')+'\x22,\x22'+(_0x3eb50b[_0xa93f5a(0xc5)]||'')['replace'](/"/g,'\x22\x22')+_0xa93f5a(0xdf)),_0x5a52fc=_0xa93f5a(0x14a),_0x2ec8d6=_0xa93f5a(0xf0);else _0x5aa2db===_0xa93f5a(0xb6)?(_0x8ed4b9=JSON['stringify'](favData),_0x2ec8d6=_0xa93f5a(0xb6)):favData[_0xa93f5a(0xe1)][_0xa93f5a(0x13b)](_0x4f446a=>_0x8ed4b9+=_0x4f446a['t']+'\x20:\x20'+_0x4f446a['d']+'\x0a');const _0x5d4508=document['createElement']('a');_0x5d4508[_0xa93f5a(0xc3)]=URL[_0xa93f5a(0x132)](new Blob([_0x8ed4b9],{'type':_0x5a52fc})),_0x5d4508[_0xa93f5a(0xf6)]='my_data.'+_0x2ec8d6,_0x5d4508[_0xa93f5a(0xeb)]();}}function importBackupFile(_0x466e87){const _0x7d2187=_0x38865e,_0x5d41e5=_0x466e87['files'][0x0];if(!_0x5d41e5)return;const _0x52d707=new FileReader();_0x52d707[_0x7d2187(0x107)]=function(_0x11ba5c){const _0x218743=_0x7d2187;try{const _0x119b16=JSON[_0x218743(0xf2)](_0x11ba5c[_0x218743(0xdc)][_0x218743(0x119)]);if(_0x119b16[_0x218743(0xe1)])_0x119b16['words'][_0x218743(0x13b)](_0x22f525=>favData[_0x218743(0xe1)][_0x218743(0x135)](_0x22f525));if(_0x119b16[_0x218743(0xf1)])_0x119b16['sents']['forEach'](_0x2fd371=>favData[_0x218743(0xf1)][_0x218743(0x135)](_0x2fd371));if(_0x119b16[_0x218743(0x8e)])_0x119b16[_0x218743(0x8e)][_0x218743(0x13b)](_0x3b1539=>favData[_0x218743(0x8e)]['unshift'](_0x3b1539));saveData(),refreshAllTabs(),alert(_0x218743(0x8d)),document[_0x218743(0x94)](_0x218743(0x126))[_0x218743(0x136)][_0x218743(0xc8)]=_0x218743(0xba);}catch(_0x2ce0ec){alert(_0x218743(0xcc));}},_0x52d707[_0x7d2187(0xa1)](_0x5d41e5);}function navSwitch(_0x2314b8,_0x55edce){const _0x4c7edc=_0x38865e;document['querySelectorAll'](_0x4c7edc(0xbc))[_0x4c7edc(0x13b)](_0x1df8bf=>_0x1df8bf['classList'][_0x4c7edc(0xa7)]('active')),_0x55edce[_0x4c7edc(0xc4)][_0x4c7edc(0xa9)](_0x4c7edc(0xf4)),_0x2314b8===_0x4c7edc(0x9a)?(document[_0x4c7edc(0x94)](_0x4c7edc(0x143))[_0x4c7edc(0x136)][_0x4c7edc(0xc8)]=_0x4c7edc(0xcf),document[_0x4c7edc(0x94)](_0x4c7edc(0xd4))[_0x4c7edc(0x136)][_0x4c7edc(0xc8)]='none'):(document[_0x4c7edc(0x94)]('pageSubs')[_0x4c7edc(0x136)][_0x4c7edc(0xc8)]=_0x4c7edc(0xba),document[_0x4c7edc(0x94)](_0x4c7edc(0xd4))[_0x4c7edc(0x136)]['display']=_0x4c7edc(0xcf),renderTab(currentNoteTab));}function renderTab(_0x35a777,_0x201223){const _0x38a144=_0x38865e;_0x201223&&(document[_0x38a144(0xff)]('#pageNotes\x20.fp-tab')[_0x38a144(0x13b)](_0x4c8ebb=>_0x4c8ebb[_0x38a144(0xc4)][_0x38a144(0xa7)]('active')),_0x201223[_0x38a144(0xc4)][_0x38a144(0xa9)](_0x38a144(0xf4))),currentNoteTab=_0x35a777,renderContent(document[_0x38a144(0x94)](_0x38a144(0x114)),_0x35a777);}function renderPcTab(_0x20f1dd,_0x22476d){const _0xf0dd6e=_0x38865e;_0x22476d&&(document[_0xf0dd6e(0xff)](_0xf0dd6e(0x101))[_0xf0dd6e(0x13b)](_0x5c59a6=>_0x5c59a6[_0xf0dd6e(0xc4)][_0xf0dd6e(0xa7)](_0xf0dd6e(0xf4))),_0x22476d[_0xf0dd6e(0xc4)][_0xf0dd6e(0xa9)](_0xf0dd6e(0xf4))),renderContent(document[_0xf0dd6e(0x94)]('pcNoteContent'),_0x20f1dd);}function refreshAllTabs(){const _0x56a149=_0x38865e;window[_0x56a149(0x11e)]<=0x300?renderTab(currentNoteTab):renderPcTab(currentNoteTab);}function renderContent(_0x2ba8e0,_0x591d6b){const _0x4bf4fd=_0x38865e;_0x2ba8e0[_0x4bf4fd(0xd2)]='';if(_0x591d6b===_0x4bf4fd(0xe1)){favData['words']['forEach']((_0xaa2915,_0x285f05)=>_0x2ba8e0['innerHTML']+='<div\x20class=\x22fav-item\x22><div\x20class=\x22fav-head\x22><span\x20class=\x22fav-word\x22>'+_0xaa2915['t']+'</span><span\x20style=\x22color:#f44336;cursor:pointer\x22\x20onclick=\x22delFav(\x27w\x27,'+_0x285f05+_0x4bf4fd(0xe3)+_0xaa2915['d']+_0x4bf4fd(0x115)+_0x285f05+',this.value)\x22></div>');if(!favData['words'][_0x4bf4fd(0xd9)])_0x2ba8e0[_0x4bf4fd(0xd2)]=_0x4bf4fd(0xdd);}else{if(_0x591d6b==='sents'){favData['sents'][_0x4bf4fd(0x13b)]((_0x1be5c6,_0x27d900)=>_0x2ba8e0[_0x4bf4fd(0xd2)]+=_0x4bf4fd(0x8a)+_0x1be5c6['t']+_0x4bf4fd(0x8c)+_0x27d900+_0x4bf4fd(0x9d)+(_0x1be5c6[_0x4bf4fd(0xc5)]||'')+_0x4bf4fd(0x122)+_0x27d900+_0x4bf4fd(0x12e));if(!favData[_0x4bf4fd(0xf1)][_0x4bf4fd(0xd9)])_0x2ba8e0[_0x4bf4fd(0xd2)]=_0x4bf4fd(0xdd);}else renderNotesUI(_0x2ba8e0);}}let editingNoteId=null;function renderNotesUI(_0x3405c5){const _0x4f9a4f=_0x38865e;if(!favData[_0x4f9a4f(0x8e)])favData[_0x4f9a4f(0x8e)]=[];if(editingNoteId!==null){const _0x5d963e=favData[_0x4f9a4f(0x8e)][_0x4f9a4f(0xfb)](_0x308cd5=>_0x308cd5['id']===editingNoteId)||{'title':'','content':''};_0x3405c5[_0x4f9a4f(0xd2)]=_0x4f9a4f(0xbe)+editingNoteId+_0x4f9a4f(0x7b)+_0x5d963e[_0x4f9a4f(0x141)]+_0x4f9a4f(0xda)+_0x5d963e[_0x4f9a4f(0xa4)]+_0x4f9a4f(0x13c);}else{let _0x2d8cee=_0x4f9a4f(0xf9);if(favData['notes']['length']===0x0)_0x2d8cee+=_0x4f9a4f(0x149);favData[_0x4f9a4f(0x8e)][_0x4f9a4f(0x13b)](_0x3746f1=>{const _0x4152e3=_0x4f9a4f;_0x2d8cee+=_0x4152e3(0x10e)+_0x3746f1['id']+_0x4152e3(0x82)+(_0x3746f1[_0x4152e3(0x141)]||_0x4152e3(0x124))+'</h4><p>'+_0x3746f1[_0x4152e3(0xa4)]['slice'](0x0,0x1e)+_0x4152e3(0x113);}),_0x3405c5[_0x4f9a4f(0xd2)]=_0x2d8cee;}}function createNote(){const _0x2637f5=_0x38865e,_0x330044=Date[_0x2637f5(0x85)]();favData[_0x2637f5(0x8e)]['unshift']({'id':_0x330044,'title':'','content':''}),saveData(),openNote(_0x330044);}function openNote(_0x5f447a){editingNoteId=_0x5f447a,refreshAllTabs();}function closeNoteEditor(){editingNoteId=null,refreshAllTabs();}function deleteNote(_0x49d6a5){const _0xbeb02d=_0x38865e;confirm('åˆ ?')&&(favData[_0xbeb02d(0x8e)]=favData[_0xbeb02d(0x8e)][_0xbeb02d(0x108)](_0x5b534e=>_0x5b534e['id']!==_0x49d6a5),closeNoteEditor(),saveData());}function updNote(_0x2e97ab,_0x50d6ca){const _0x3c84f6=_0x38865e,_0x2b751c=favData['notes'][_0x3c84f6(0xfb)](_0x1533d8=>_0x1533d8['id']===editingNoteId);_0x2b751c&&(_0x2b751c[_0x2e97ab]=_0x50d6ca,saveData());}function updWord(_0xa97237,_0x3f1978){favData['words'][_0xa97237]['d']=_0x3f1978,saveData();}function _0x4e9c(){const _0x33da7b=['10249764vkxOnu','backup','SALT','âœ…\x20å·²åŠ è½½\x20','clipboard','none','SH_API_V27','.nav-item','<b>[','<div\x20style=\x22display:flex;flex-direction:column;height:100%\x22><div\x20style=\x22display:flex;\x20border-bottom:1px\x20solid\x20#333;\x20padding:5px\x22><button\x20class=\x22btn\x22\x20style=\x22background:none;color:#aaa\x22\x20onclick=\x22closeNoteEditor()\x22>â†\x20è¿”å›</button><div\x20style=\x22flex:1\x22></div><button\x20class=\x22btn\x22\x20style=\x22background:none;color:#f44336\x22\x20onclick=\x22deleteNote(','btnLoop','play','aud','getItem','href','classList','note','pdf','endsWith','display','baidu','dst','txt','æ–‡ä»¶é”™è¯¯','appid','fSub','flex','TEXTAREA','then','innerHTML','catch','pageNotes','fVid','tp-','\x20æ¡å­—å¹•','printArea','length','\x22\x20oninput=\x22updNote(\x27title\x27,this.value)\x22><textarea\x20style=\x22flex:1;background:#111;border:none;padding:10px;color:#ddd;resize:none;font-size:14px;width:100%\x22\x20placeholder=\x22å†…å®¹...\x22\x20oninput=\x22updNote(\x27content\x27,this.value)\x22>','placeholder','target','<div\x20style=\x27text-align:center;color:#666;margin-top:20px\x27>ç©º</div>','className','\x22,-\x0a','stringify','words','.ass',')\x22>Ã—</span></div><input\x20class=\x22fav-input\x22\x20value=\x22','fullList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tp-text-col\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tp-foreign\x22\x20style=\x22color:#fff;font-size:16px;font-weight:600;\x22>','smooth','https://api.dictionaryapi.dev/api/v2/entries/en/',')\x22>â–¶</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','&salt=','pause','click','popWord','2935480qbmSZU','writeText','block','csv','sents','parse','<h1>å­¦ä¹ è®°å½•</h1><h2>å•è¯è¡¨</h2><table\x20class=\x27print-table\x27><thead><tr><th\x20class=\x27col-word\x27>å•è¯</th><th\x20class=\x27col-def\x27>è§£é‡Š/ç¬”è®°</th><th\x20class=\x27col-blank\x27>é»˜å†™/å¤‡æ³¨</th></tr></thead><tbody>','active','</td><td></td></tr>','download','2857210DWXLqq','âœ…\x20ç™¾åº¦ç¿»è¯‘å·²å†…ç½®','<div\x20style=\x22padding:10px;border-bottom:1px\x20solid\x20#333\x22><button\x20class=\x22btn\x20btn-blue\x22\x20style=\x22width:100%\x22\x20onclick=\x22createNote()\x22>+\x20æ–°å»ºç¬”è®°</button></div>','</td></tr>','find','æ— é‡Šä¹‰(æœªé…ç½®ç¿»è¯‘)','APIæ— ç»“æœ','scrollIntoView','querySelectorAll','files','.float-panel-pc\x20.fp-tab','center','SH_MASTER_','sb-','#4CAF50','match','onload','filter','deviceUID','<span\x20class=\x22word-click\x22\x20onclick=\x22clickWord(\x27','active-loop','4109315pUYfKA','addEventListener','<div\x20class=\x22note-card\x22\x20onclick=\x22openNote(','popCard','print','substring','indexOf','...</p></div>','noteContent','\x22\x20oninput=\x22updWord(','https://fanyi-api.baidu.com/api/trans/vip/translate?q=','color','split','result','toLowerCase','splice','definitions','push','innerWidth','appendChild','teleprompter','sb-item','\x22\x20oninput=\x22updSent(','inB','æ— æ ‡é¢˜','10409096Tfxnns','modalExport','text/plain','lockScreen','layout-swap','å·²æ”¶è—','json','lockInput','apiProvider',',this.value)\x22></div>','<div>','change','<tr><td>','createObjectURL','<b\x20style=\x22color:#4CAF50\x22>[ç¬”è®°]</b><br>','391260tKGYHv','unshift','style','inA','ç½‘ç»œé”™è¯¯','createElement','<input\x20id=\x22k1\x22\x20placeholder=\x22åº”ç”¨ID\x22\x20style=\x22width:100%;margin-bottom:5px\x22\x20value=\x22','forEach','</textarea></div>','</td><td>','innerText','\ufeffç±»å‹,å†…å®¹,å¤‡æ³¨,æ—¶é—´\x0a','popDef','title','-->','pageSubs','hide-','currentTime','meanings','name','ğŸ”...','<div\x20style=\x27text-align:center;color:#666;margin-top:20px\x27>æš‚æ— ç¬”è®°</div>','text/csv','ontimeupdate',')\x22>åˆ é™¤</button></div><input\x20class=\x22note-title-input\x22\x20style=\x22background:#111;border:none;border-bottom:1px\x20solid\x20#333;padding:10px;color:#fff;font-weight:bold;width:100%\x22\x20placeholder=\x22æ ‡é¢˜\x22\x20value=\x22','APP_UID','setItem','å•è¯,','includes',']</b><br>','value',')\x22><h4>','trim','MD5','now','å¤åˆ¶æˆåŠŸ','4tcQHiv','</tbody></table><h2>é‡ç‚¹å¥</h2><table\x20class=\x27print-table\x27><thead><tr><th>å¥å­</th><th>ç¬”è®°</th></tr></thead><tbody>','INPUT','<div\x20class=\x22fav-item\x22><div\x20class=\x22fav-head\x22><span>','toString','</span><span\x20style=\x22color:#f44336;cursor:pointer\x22\x20onclick=\x22delFav(\x27s\x27,','æ¢å¤æˆåŠŸï¼','notes','tagName','\x27)\x22>â­</button></div><div\x20class=\x22sb-content\x22><div>','<div\x20class=\x22sb-btns\x22><button\x20class=\x22icon-btn\x22\x20onclick=\x22seek(','ä¿å­˜æˆåŠŸ','key','getElementById','APIé”™è¯¯\x20(è¯·æ£€æŸ¥ç½‘ç»œ)','<input\x20id=\x22k1\x22\x20placeholder=\x22APP\x20ID\x22\x20style=\x22width:100%;margin-bottom:5px\x22\x20value=\x22','toFixed','src','vid','subs','random','Dialogue:',')\x22>Ã—</span></div><input\x20class=\x22fav-input\x22\x20placeholder=\x22å¤‡æ³¨...\x22\x20value=\x22','æ¿€æ´»ç é”™è¯¯','join','\x20-->\x20','readAsText','\x22><input\x20id=\x22k2\x22\x20type=\x22password\x22\x20placeholder=\x22å¯†é’¥\x22\x20style=\x22width:100%\x22\x20value=\x22','touchstart','content','getTime','true','remove','provider','add','replace','apiStatusDisplay','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22tp-native\x22\x20style=\x22color:#888;font-size:13px;margin-top:4px;\x22>','partOfSpeech','definition','\x27);event.stopPropagation()\x22>','839325MyhUcP','slice','</span>','toggle','map'];_0x4e9c=function(){return _0x33da7b;};return _0x4e9c();}function updSent(_0x177ee0,_0x579d92){const _0xe4c2f8=_0x38865e;favData['sents'][_0x177ee0][_0xe4c2f8(0xc5)]=_0x579d92,saveData();}function loadData(){const _0x1f0a4a=_0x38865e,_0x1d589c=localStorage['getItem'](currentFileKey);if(_0x1d589c)favData=JSON[_0x1f0a4a(0xf2)](_0x1d589c);else favData={'words':[],'sents':[],'notes':[]};refreshAllTabs();}function saveData(){const _0x1a0efa=_0x38865e;localStorage['setItem'](currentFileKey,JSON[_0x1a0efa(0xe0)](favData));}function saveWord(){const _0x4c0031=_0x38865e;curWord&&(favData[_0x4c0031(0xe1)][_0x4c0031(0x135)]({'t':curWord,'d':document[_0x4c0031(0x94)](_0x4c0031(0x140))['innerText']}),saveData(),alert(_0x4c0031(0x12a)),document[_0x4c0031(0x94)](_0x4c0031(0x10f))[_0x4c0031(0x136)][_0x4c0031(0xc8)]='none',refreshAllTabs());}function addFav(_0x3e81f7,_0x177716){const _0x47fa6e=_0x38865e;favData[_0x47fa6e(0xf1)][_0x47fa6e(0x135)]({'t':_0x177716,'note':''}),saveData(),alert(_0x47fa6e(0x12a)),refreshAllTabs();}function delFav(_0x7698aa,_0x2dfa43){const _0x49806a=_0x38865e;if(_0x7698aa==='w')favData[_0x49806a(0xe1)][_0x49806a(0x11b)](_0x2dfa43,0x1);else favData['sents'][_0x49806a(0x11b)](_0x2dfa43,0x1);saveData(),refreshAllTabs();}function seek(_0x157e59){player&&(player['currentTime']=_0x157e59,player['play']());}function onTick(){const _0x29f94b=_0x38865e;if(!player)return;const _0x59a7c7=player[_0x29f94b(0x145)];isLooping&&loopEnd&&_0x59a7c7>=loopEnd&&(player[_0x29f94b(0x145)]=loopStart,player['play']());const _0x2ec53b=subtitles['find'](_0x101704=>_0x59a7c7>=_0x101704['s']&&_0x59a7c7<=_0x101704['e']);if(_0x2ec53b){const _0x5a3827=subtitles['indexOf'](_0x2ec53b);if(_0x5a3827!==activeIndex){activeIndex!==-0x1&&(document[_0x29f94b(0x94)](_0x29f94b(0xd6)+activeIndex)?.[_0x29f94b(0xc4)][_0x29f94b(0xa7)](_0x29f94b(0xf4)),document[_0x29f94b(0x94)](_0x29f94b(0x104)+activeIndex)?.['classList'][_0x29f94b(0xa7)](_0x29f94b(0xf4)));activeIndex=_0x5a3827;const _0x1e215f=document[_0x29f94b(0x94)](_0x29f94b(0xd6)+_0x5a3827);if(_0x1e215f){_0x1e215f['classList'][_0x29f94b(0xa9)](_0x29f94b(0xf4));if(!isUserTouching)_0x1e215f[_0x29f94b(0xfe)]({'behavior':_0x29f94b(0xe6),'block':_0x29f94b(0x102)});}const _0x503e5d=document[_0x29f94b(0x94)](_0x29f94b(0x104)+_0x5a3827);if(_0x503e5d){_0x503e5d[_0x29f94b(0xc4)][_0x29f94b(0xa9)](_0x29f94b(0xf4));if(!isUserTouching)_0x503e5d[_0x29f94b(0xfe)]({'behavior':'smooth','block':_0x29f94b(0x102)});}}}}function toggleSwap(){const _0x1608af=_0x38865e;document[_0x1608af(0x94)](_0x1608af(0x120))[_0x1608af(0xc4)][_0x1608af(0xb3)](_0x1608af(0x129));}function toggleVis(_0x46a3a6){const _0x29a69e=_0x38865e;document[_0x29a69e(0x94)]('teleprompter')['classList'][_0x29a69e(0xb3)](_0x29a69e(0x144)+_0x46a3a6);}function setA(){const _0x55fda2=_0x38865e;loopStart=player[_0x55fda2(0x145)],document[_0x55fda2(0x94)](_0x55fda2(0x137))['value']=loopStart[_0x55fda2(0x97)](0x1);}function setB(){const _0x47eeb8=_0x38865e;loopEnd=player['currentTime'],document[_0x47eeb8(0x94)](_0x47eeb8(0x123))[_0x47eeb8(0x81)]=loopEnd['toFixed'](0x1);}function toggleLoop(){const _0x4ceec2=_0x38865e;loopStart=parseFloat(document[_0x4ceec2(0x94)](_0x4ceec2(0x137))[_0x4ceec2(0x81)]),loopEnd=parseFloat(document[_0x4ceec2(0x94)](_0x4ceec2(0x123))[_0x4ceec2(0x81)]),loopEnd>loopStart&&(isLooping=!![],player['currentTime']=loopStart,player[_0x4ceec2(0xc0)](),document[_0x4ceec2(0x94)](_0x4ceec2(0xbf))[_0x4ceec2(0xc4)][_0x4ceec2(0xa9)](_0x4ceec2(0x10b)));}function clearLoop(){const _0x4f96a0=_0x38865e;isLooping=![],document['getElementById'](_0x4f96a0(0xbf))[_0x4f96a0(0xc4)]['remove'](_0x4f96a0(0x10b));}function updateApiUI(){const _0x3ddae0=_0x38865e,_0x1bf29b=document[_0x3ddae0(0x94)](_0x3ddae0(0x12d))['value'],_0x1ac7c5=document[_0x3ddae0(0x94)]('apiFields');if(_0x1bf29b==='baidu')_0x1ac7c5[_0x3ddae0(0xd2)]=_0x3ddae0(0x96)+apiConfig['id']+_0x3ddae0(0xa2)+apiConfig[_0x3ddae0(0x93)]+'\x22>';else{if(_0x1bf29b==='youdao')_0x1ac7c5['innerHTML']=_0x3ddae0(0x13a)+apiConfig['id']+_0x3ddae0(0xa2)+apiConfig[_0x3ddae0(0x93)]+'\x22>';else _0x1ac7c5['innerHTML']='';}}async function saveApiSettings(){const _0x1f2ecd=_0x38865e;apiConfig['provider']=document[_0x1f2ecd(0x94)]('apiProvider')[_0x1f2ecd(0x81)],apiConfig['provider']!==_0x1f2ecd(0xba)&&(apiConfig['id']=document['getElementById']('k1')[_0x1f2ecd(0x81)],apiConfig[_0x1f2ecd(0x93)]=document[_0x1f2ecd(0x94)]('k2')[_0x1f2ecd(0x81)]),localStorage[_0x1f2ecd(0x7d)](_0x1f2ecd(0xbb),JSON['stringify'](apiConfig)),alert(_0x1f2ecd(0x92));}function loadApi(){const _0xccc4ff=_0x38865e,_0x4d165d=localStorage[_0xccc4ff(0xc2)](_0xccc4ff(0xbb));if(_0x4d165d)apiConfig=JSON[_0xccc4ff(0xf2)](_0x4d165d);document[_0xccc4ff(0x94)](_0xccc4ff(0x12d))[_0xccc4ff(0x81)]=apiConfig[_0xccc4ff(0xa8)];}function parseSRT(_0x3b6f16){const _0xf1c480=_0x38865e;subtitles=[],_0x3b6f16[_0xf1c480(0xaa)](/\r\n/g,'\x0a')[_0xf1c480(0xaa)](/\r/g,'\x0a')['split']('\x0a\x0a')[_0xf1c480(0x13b)](_0x4b49f2=>{const _0x50e2f3=_0xf1c480,_0x5cede7=_0x4b49f2[_0x50e2f3(0x118)]('\x0a')[_0x50e2f3(0x108)](_0x26b8d5=>_0x26b8d5['trim']());if(_0x5cede7['length']>=0x3){const _0x4a5aa5=_0x5cede7['find'](_0x1083b1=>_0x1083b1[_0x50e2f3(0x7f)](_0x50e2f3(0x142)));if(_0x4a5aa5){const _0x4cd9e1=_0x5cede7[_0x50e2f3(0x112)](_0x4a5aa5);let _0x381d1d=_0x5cede7[_0x4cd9e1+0x1]||'',_0x195c0c='';if(_0x5cede7[_0x50e2f3(0xd9)]>_0x4cd9e1+0x2)_0x195c0c=_0x5cede7['slice'](_0x4cd9e1+0x2)[_0x50e2f3(0x9f)]('\x20');subtitles[_0x50e2f3(0x11d)]({'s':toSec(_0x4a5aa5[_0x50e2f3(0x118)](_0x50e2f3(0xa0))[0x0]),'e':toSec(_0x4a5aa5[_0x50e2f3(0x118)](_0x50e2f3(0xa0))[0x1]),'f':_0x381d1d,'n':_0x195c0c});}}});}function parseASS(_0x203dd7){subtitles=[],_0x203dd7['split']('\x0a')['forEach'](_0x3d3afd=>{const _0x46d54f=_0x3041;if(_0x3d3afd['startsWith'](_0x46d54f(0x9c))){const _0x35c46f=_0x3d3afd[_0x46d54f(0x118)](',');if(_0x35c46f[_0x46d54f(0xd9)]>0x9)subtitles['push']({'s':toSec(_0x35c46f[0x1]),'e':toSec(_0x35c46f[0x2]),'f':_0x35c46f[_0x46d54f(0xb1)](0x9)[_0x46d54f(0x9f)](',')[_0x46d54f(0xaa)](/{.*?}/g,'')[_0x46d54f(0xaa)](/\\N/g,'\x20'),'n':''});}});}function toSec(_0x5d882e){const _0x511a46=_0x38865e;if(!_0x5d882e)return 0x0;const _0x5ed3d=_0x5d882e['trim']()[_0x511a46(0xaa)](',','.')[_0x511a46(0x118)](':');return parseInt(_0x5ed3d[0x0])*0xe10+parseInt(_0x5ed3d[0x1])*0x3c+parseFloat(_0x5ed3d[0x2]);}function _0x3041(_0x5532c9,_0x25077e){_0x5532c9=_0x5532c9-0x7b;const _0x4e9cf8=_0x4e9c();let _0x30416b=_0x4e9cf8[_0x5532c9];return _0x30416b;}function esc(_0x28759a){return _0x28759a['replace'](/'/g,'\x5c\x27');}</body>

</html>


